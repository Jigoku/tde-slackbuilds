<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Cross compile Trinity Desktop Environment [TDE] for the Raspberry Pi3</title>

<!-- page -->
<style>
body {font:13px sans;max-width: 1000px;padding:0px 10px;margin: 0 auto; /* center page */} 
.red {background-color: #FFdddd;}
.gray {background-color: #e7e7e7;}
.green {background-color: #FFD7F7;}
.thtwo {background-color: #Fafafa;border: dotted 1px;}
.thtwob {border: dotted 1px;}
.central {border: dashed 1px;display: inline-block;padding: 2px;}
.appx {background-color: #Fafafa;}
.bkslt {color: #dadada;}
.console {border-left: 3px solid lightgrey;margin-left: 15px;}
.dastx {color: #978DFF;}
.comment {color: #acacac;}
.off_rel  {color: magenta;}
div {padding: 5px;white-space: pre-wrap;}
code {font-size:12px;padding: 5px;display: inline-block;white-space: pre-wrap;margin: 5px 0;}
pre {font-size:12px;}
div code {margin: 10px 0;}
a, a:visited {text-decoration: none;font-style: oblique;color: #0000c5;}
a.extlink, a:visited.extlink {color: #c50000;}
a.intlink, a:visited.intlink {color: #00c500;}
hr {width: 100%;height: 2px;}
</style>

<!-- pop-up buttons -->
<style type="text/css">
.b_locn {border-left: 10px solid #FFdddd;padding-left: 10px;}
.b_prefs {border-left: 10px solid #FFD7F7;padding-left: 10px;}
.b_32bit {border-left: 10px solid #Fafafa;padding-left: 10px;}

/* basic for close tab */
span.tabs a {box-shadow:1px 1px 3px gray; /* shift-horz|-vert|width|colour */
border-radius:6px;padding: 2px 4px;color:#0000c5;}
span.tabs.locn a {background-color:#FFdddd;}
span.tabs.prefs a {background-color:#FFD7F7;}
span.tabs.th2 a {background-color:#Fafafa;}
span.tabs.reqd a {background-color:#E5F1FF;}
span.tabs.opt a {background-color:#FFD7F7;}

div.tab {display: none;}
div.tab:target {display: block;}
:target div.tab {display: block;}
:target div.tab + div.tab {display: none;}
</style>

<!-- nav box
Thanks to http://www.websitecodetutorials.com/code/css-nav-menus/css3-mega-drop-down-menu.php  -->
<style type="text/css">
#menu {
list-style:none;
font-weight:bold;
/* font-size: .85em;*/
}

#menu li {
position:fixed;
top:20;right:10;
background:none;
padding:5px 9px 0px 9px;
border:1px solid #e3e3e3;
border-radius:6px;
text-align:center;
z-index:1;
}

#menu a {display:block;}

/* ----------- Hide/Show Div ---------- */
#menu div {
position:fixed;
top:20;right:10;bottom:10;
max-height: 360px;
 overflow-y: auto;
 white-space: nowrap;
z-index:4;
border:1px solid #000;
font:14px;
font-weight:normal;
text-align:left; 
box-shadow:0 2px 8px #000;
border-radius:6px;
    -moz-transition: all .2s ease-in-out;
 -webkit-transition: all .2s ease-in-out;
      -o-transition: all .2s ease-in-out;
     -ms-transition: all .2s ease-in-out;
         transition: all .2s ease-in-out;
visibility:hidden;
opacity:0;
}

/* ---- CSS3 Transform Fade In/Out ----- */
#menu li:hover div {
visibility:visible;
background:#fff;
opacity:1;
}

#menu div p {padding-right:20px;}

#menu div p a {
color:darkblue;
text-decoration:none;
clear:left;
line-height:1.1;
}

#menu div a:hover, #menu div a:focus, #menu div a:active {
text-decoration:none;
color:darkred;
}

/* print styling - no nav box */
@media print {#menu { display: none;} body, p, a {color:#000; background:#fff;}}
</style>


</head><body>
<br>
<h3> Cross compile Trinity Desktop Environment [TDE] for the Raspberry Pi3 </h3>
<p>
<div style="display:block;margin:auto;width:100%;max-width:600"><a class="extlink" href="https://ray-v.github.io/TDE-aarch64-gui.png"><img style="display:block;margin:auto;width:100%;max-width:600;max-height:338;" alt="https://ray-v.github.io/TDE-aarch64-gui.png" src="https://ray-v.github.io/TDE-aarch64-gui.png"></a>... a TDE desktop, cross compiled for aarch64, running on a RPi3.</div>
<p>
This is based on the <a class="extlink" href="https://github.com/Ray-V/tde-slackbuilds">tde-slackbuilds build scripts</a> which can be used for a native RPi3 build.
<br>
Builds have been done for the RPi3 running systems based on Slackware-arm-current [hard float], and <a class="extlink" href="http://dl.fail.pp.ua/slackware/slarm64-current/">Slarm64</a> [which can be downloaded from a mirror site, for example <a class="extlink" href="https://slackware.uk/slarm64/slarm64-current/slarm64/">slackware.uk</a>], with both systems using a 64-bit kernel built here.
<br>
The packages listed on this page have been built on an x86_64 machine and installed and tested OK on an RPi3.
<br>
For any problems, questions, etc please open an issue at <a class="extlink" href="https://github.com/Ray-V/tde-slackbuilds">tde-slackbuilds</a>.
<p>
Why cross-compile?
<p>
Of the methods available for compiling TDE for the RPi3, I've tried three:
<br>1] natively on the Pi itself
<br>2] in an arm chroot on a x86_64 machine
<br>3] cross compiling on a x86_64 machine using qemu/binfmt to run most of the TDE binaries required for the build
<p>
All methods work, but usually speed of compilation is the determining factor for which to choose.
<p>
Compared to a native x86_64 build, the build times are typically:
<br>1] x3+
<br>2] x10 - all binaries used here have to run through qemu
<br>3] +25% typically - using a mix of x86_64 and arm binaries, the use of qemu can be minimized.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For example, tqmoc is used extensively and as it builds arch independent output, the x86_64 version can be used.
<p>
The build order is:
<br>1] the cross compiler
<br>2] <span class="green">a 64-bit kernel</span>
<br>3] qemu
<br>4] set up the build environment with tqmoc and meinproc x86 binaries
<br>5] the <span style="background: #E5F1FF;">required</span> TDE packages and install them to / and sysroot
<br>6] other packages
<br> <span class="green">Options</span> include packaging, 64-bit kernel and its components, imlib, &hellip;
<p>
<span class="thtwo">To aid trouble shooting, this page has been set up so that each build can be run by selecting the contents in part or whole and pasting into a console.</span>
<p>
<b>TDE build environment</b><br>
This will be the build setup for the cross-compiler and sysroot.<br>
The intention is that as much as possible that is required for the TDE cross compilation is contained within one directory and can be installed/mounted only when required.<br>
&diamondsuit;&diamondsuit; sysroot libs and headers can be permanently installed within the cross-compiler tree or bind mounted from another media or directory.<br>
&diamondsuit; only TDE packages required for building other TDE apps will be installed.

<pre>/opt
├── cross-pi-gcc
│   ├── $TARGET
│   │   ├── bin
│   │   │   └── <span class="comment">ldd &hellip;</span>
│   │   └── lib
│   │       └── <span class="comment">ld-linux-*.so.* &hellip;</span>
│   ├── bin				cross compiler
│   │   └── <span class="comment">$TARGET-gcc &hellip;</span>
│   └── sysroot &diamondsuit;&diamondsuit;
│       ├── lib$LIBDIRSUFFIX		target libraries
│       ├── usr
│       │   ├── include			target headers
│       │   │   └── linux		kernel headers
│       │   └── lib$LIBDIRSUFFIX	target libraries
│       ├── src				source archives
│       ├── x86				x86 binaries - qemu-$ARM, meinproc, tqmoc
│       └── opt
│           └── tde &diamondsuit;			for TDE headers and libraries for pkg-config
└── tde &diamondsuit;				for TDE executables used during TDE builds</pre>
<p>
<b>Source archives</b>
<br>
The source archives need to be downloaded and placed in the src directory -
<br>
For the official release, R series, download from <a class="extlink" href="https://mirror.ppa.trinitydesktop.org/trinity/releases/">https://mirror.ppa.trinitydesktop.org/trinity/releases/</a>
<p>
<b>Build in a chroot?</b><br>
Yes if:<br>
&blacktriangleright; the TDE installation directory exists on the build system,<br>
&blacktriangleright; any of the packages being built exist on the build system, because they will be overwritten with arm versions.
<p>
Set <b>HOST</b> for a 32-bit [armv7] or 64-bit [aarch64] build for the host system - RPi3 - for the TDE builds which use the autotools differentiation between build, host and target.
<br>
<code class="thtwob"><span class="dastx">##</span> <b>32-bit</b> - only tested for a hard float build
<code class="thtwo">export HOST="arm-linux-gnueabihf"
</code>
<span class="dastx">##</span> <b>OR:</b>
<span class="dastx">##</span> <b>64-bit</b>
<code class="thtwo">export HOST="aarch64-linux-gnu"
</code></code>
<p>
<code class="thtwo">export ARM=$(echo $HOST|cut -d- -f1)
</code>
<p>
<span class="dastx">##</span> <b>Set installation directories</b>
<br>
<code class="thtwo"><span class="dastx">##</span> for cross compiler
export XGCC_DIR=/opt/cross-pi-gcc
<span class="dastx">##</span> for sysroot
export SYSROOT=$XGCC_DIR/sysroot
</code>
<p>
<!-- gcc_x - start -->
<a name="close_gcc_x"></a>
<br>
<span class="tabs"><a href="#gcc_x">&hellip; build gcc cross-compiler</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;Based on - <a class="extlink" href="https://solarianprogrammer.com/2018/05/06/building-gcc-cross-compiler-raspberry-pi/">Building GCC as a cross compiler for Raspberry Pi</a> - and the mentioned article - <a class="extlink" href="http://preshing.com/20141119/how-to-build-a-gcc-cross-compiler/">How to Build a GCC Cross-Compiler</a>.</span>
<div id="gcc_x" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_gcc_x">close</a></span>

The cross compiler is built in this tree:
<code>/tmp
└── xgcc
    ├── gcc-9			sources for a gcc-9.1.0/glibc-2.29 build
    │   ├── binutils-2.32.tar.xz
    │   ├── gcc-9.1.0.tar.xz
    │   ├── glibc-2.29.tar.xz
    │   ├── gmp-6.1.2.tar.xz
    │   ├── isl-0.18.tar.bz2
    │   ├── mpc-1.1.0.tar.gz
    │   └── mpfr-4.0.2.tar.xz
    ├── build_all		build area
    │   ├── linux		for kernel headers
    │   ├── binutils-2.32
    │   ├── build-binutils
    │   ├── gcc-9.1.0
    │   ├── build-gcc
    │   ├── glibc-2.29
    │   └── build-glibc
    └── <span class="green">pkg			DESTDIR for creating package</span>


<b>Set variables</b> for a 32-bit [armv7] or 64-bit [aarch64] build:
<span class="dastx">##</span> <b>32-bit</b> - only tested for a hard float build
<code class="thtwo"><span class="dastx">##</span> for kernel headers
export K_ARCH=arm
<span class="dastx">##</span> Set options for RPi3
export PiARCH="armv8-a+crc"
export FPU="neon-fp-armv8"
export TUNE="cortex-a53"
export FLOAT="hard"
export MACH_OPTS="--with-arch=$PiARCH --with-tune=$TUNE --with-fpu=$FPU --with-float=$FLOAT"
export glibcMACH_OPTS=$MACH_OPTS
<span class="dastx">##</span> Set target - building cross compiler to run on x86 to build for target arm
export TARGET=$HOST
</code>
<span class="dastx">##</span> <b>OR:</b>
<span class="dastx">##</span> <b>64-bit</b>
<code class="thtwo"><span class="dastx">##</span> for kernel headers
export K_ARCH=arm64
<span class="dastx">##</span> Set options for RPi3 - the build for aarch64 takes a limited number of options
export PiARCH="armv8-a+crc"
export TUNE="cortex-a53"
export MACH_OPTS="--with-arch=$PiARCH --with-cpu=$TUNE"
export glibcMACH_OPTS="--with-arch=$PiARCH --with-tune=$TUNE"
<span class="dastx">##</span> Set target - building cross compiler to run on x86 to build for target aarch64
export TARGET=$HOST
</code>
<span class="dastx">##</span> <b>Create build directories</b>
<code class="thtwo">mkdir -p /tmp/xgcc/{gcc-9,build_all}
cd /tmp/xgcc/gcc-9
</code>
<span class="dastx">##</span> <b>Get required sources</b>
<code class="thtwo"><span style="color: #c50000;">wget https://ftpmirror.gnu.org/binutils/binutils-2.32.tar.xz
wget https://ftpmirror.gnu.org/gcc/gcc-9.1.0/gcc-9.1.0.tar.xz
wget https://ftpmirror.gnu.org/glibc/glibc-2.29.tar.xz
wget https://gmplib.org/download/gmp/gmp-6.1.2.tar.xz
wget https://gcc.gnu.org/pub/gcc/infrastructure/isl-0.18.tar.bz2
wget https://ftpmirror.gnu.org/gnu/mpc/mpc-1.1.0.tar.gz
wget https://ftpmirror.gnu.org/gnu/mpfr/mpfr-4.0.2.tar.xz</span>
</code>
<span class="dastx">##</span> <b>Install the kernel headers</b>
<span class="dastx">##</span> Download the kernel source and create a headers package.
<span class="dastx">##</span> This is a 180MB download
<code class="thtwo">cd ../build_all
<span style="color: #c50000;">git clone --depth=1 --no-checkout https://github.com/raspberrypi/linux</span>
</code>
<span class="dastx">##</span> Backup
<code class="green thtwob">tar Jcf /tmp/RPi-kernel-git-$(date +%Y%m%d).tar.xz linux/
</code></span>
<span class="dastx">##</span> Check out the default branch
<code class="thtwo">cd linux
git checkout
</code>
<span class="dastx">##</span> Make headers - these are different for 32 and 64-bit - not to be confused with the kernel build
<code class="thtwo">make headers_install ARCH=$K_ARCH INSTALL_HDR_PATH=/tmp/headers/usr
export K_VER=$(make kernelversion)
(cd /tmp/headers
makepkg -l y -c n /tmp/kernel-headers-$K_VER-RPi-$K_ARCH.txz)
rm -rf /tmp/headers
cd ..
</code>
<span class="dastx">##</span> If building kernel, modules, and dtbs &hellip; 
<code class="green thtwob">mv /tmp/xgcc/build_all/linux /tmp
</code>
<code class="thtwo">ROOT=$SYSROOT installpkg /tmp/kernel-headers-$K_VER-RPi-$K_ARCH.txz
</code>
<span class="dastx">##</span> <b>Extract the archives</b>
<code class="thtwo">tar xf ../gcc-9/binutils-2.32.tar.xz
tar xf ../gcc-9/glibc-2.29.tar.xz
tar xf ../gcc-9/gcc-9.1.0.tar.xz
cd gcc-9.1.0
ln -s ../../gcc-9/gmp-6.1.2.tar.xz .
ln -s ../../gcc-9/mpc-1.1.0.tar.gz .
ln -s ../../gcc-9/mpfr-4.0.2.tar.xz .
ln -s ../../gcc-9/isl-0.18.tar.bz2 .

<span class="dastx">##</span> Update the prerequisites versions
sed -i 's|6.1.0.tar.bz2|6.1.2.tar.xz|;s|3.1.4.tar.bz2|4.0.2.tar.xz|;s|1.0.3|1.1.0|' contrib/download_prerequisites

<span class="dastx">##</span> Set up the gcc build environment
contrib/download_prerequisites --no-verify
</code>
<span class="dastx">##</span> Fix build error:
<span class="dastx">##</span>../../../../gcc-9.1.0/libsanitizer/asan/asan_linux.cc:216:21: error: ‘PATH_MAX’ was not declared in this scope
<span class="dastx">##</span> '#include &lt;limits.h>' in asan_linux.cc isn't picking up the linux headers version which defines PATH_MAX, so add the latter:
<code class="thtwo">echo $'--- libsanitizer/asan/asan_linux.cc
+++ libsanitizer/asan/asan_linux.cc
@@ -33,0 +34 @@
+#include &lt;linux/limits.h>' | while read line
do
patch -p0
done
</code>
<span class="dastx">##</span> <b>Build Binutils</b>
<span class="dastx">##</span> The cross compiler toolchain is going to be built with defaults for the RPi3 using machine [arch/tune/fpu/float] options
<code class="thtwo">mkdir ../build-binutils
cd ../build-binutils
../binutils-2.32/configure --prefix=$XGCC_DIR --with-sysroot=$SYSROOT --target=$TARGET $MACH_OPTS --disable-multilib
make -j4
<span class="dastx">##</span> install to '--prefix' for this build
make install-strip
<span class="green"><span class="dastx">##</span> install for packaging
DESTDIR=/tmp/xgcc/pkg make install-strip</span>
</code>
<span class="dastx">##</span> <b>Start building gcc</b>
<code class="thtwo">mkdir ../build-gcc
cd ../build-gcc
../gcc-9.1.0/configure --prefix=$XGCC_DIR --with-sysroot=$SYSROOT --target=$TARGET --enable-languages=c,c++ $MACH_OPTS --disable-multilib
make -j4 all-gcc
make install-gcc
</code>
<span class="dastx">##</span> <b>Add the cross compiler binaries to PATH</b> for building glibc
<span class="dastx">##</span> Prevents "__INT64_C" redefined and "__ARM_ARCH" is not defined errors.
<span class="dastx">##</span> And includes $TARGET-strip which is used to strip the glibc executables and libs.
<code class="thtwo">export PATH=$XGCC_DIR/bin:$PATH
</code>
<span class="dastx">##</span> <b>Start building glibc</b>
<code class="thtwo">mkdir ../build-glibc
cd ../build-glibc
../glibc-2.29/configure --prefix=$XGCC_DIR/$TARGET --with-sysroot=$SYSROOT --build=$MACHTYPE --host=$TARGET --target=$TARGET $glibcMACH_OPTS --disable-multilib libc_cv_forced_unwind=yes
make install-bootstrap-headers=yes install-headers
make -j4 csu/subdir_lib
install csu/crt1.o csu/crti.o csu/crtn.o $XGCC_DIR/$TARGET/lib
$TARGET-gcc -nostdlib -nostartfiles -shared -x c /dev/null -o $XGCC_DIR/$TARGET/lib/libc.so
touch $XGCC_DIR/$TARGET/include/gnu/stubs.h
</code>
<span class="dastx">##</span> <b>Back to gcc</b>
<code class="thtwo">cd ../build-gcc
make -j4 all-target-libgcc
make install-target-libgcc
</code>
<span class="dastx">##</span> <b>Finish building glibc</b>
<code class="thtwo">cd ../build-glibc
make -j4
<span class="dastx">##</span> no strip option to 'make install'
make install
<span class="green"><span class="dastx">##</span> install to different DESTDIR for stripping
DESTDIR=/tmp/xgcc/pkg-2 make install
find /tmp/xgcc/pkg-2 | xargs file | grep "executable" | grep ELF | cut -f 1 -d : | xargs $TARGET-strip --strip-debug
find /tmp/xgcc/pkg-2 | xargs file | grep "shared object" | grep ELF | cut -f 1 -d : | xargs $TARGET-strip --strip-debug</span>
</code>
<span class="dastx">##</span> <b>Finish building gcc</b>
<code class="thtwo">cd ../build-gcc
make -j4
make install-strip
<span class="green">DESTDIR=/tmp/xgcc/pkg make install-strip</span>
</code>
<span class="dastx">##</span> <b>Create cross compiler package</b>
<code class="green thtwob"><span class="dastx">##</span> Copy stripped glibc to the cross gcc packaging directory
cp -a /tmp/xgcc/pkg-2/* /tmp/xgcc/pkg/

<span class="dastx">##</span> Create a sysroot directory
mkdir /tmp/xgcc/pkg$SYSROOT

<span class="dastx">##</span> Remove unwanted locales
rm -rf /tmp/xgcc/pkg$XGCC_DIR/share/locale

mv /tmp/xgcc/pkg$XGCC_DIR/$TARGET/share/i18n/locales/en_{GB,US} /tmp
rm -rf /tmp/xgcc/pkg$XGCC_DIR/$TARGET/share/i18n/locales/*
mv /tmp/en_{GB,US} /tmp/xgcc/pkg$XGCC_DIR/$TARGET/share/i18n/locales/

mv /tmp/xgcc/pkg$XGCC_DIR/$TARGET/share/locale/{en_GB,locale.alias} /tmp
rm -rf /tmp/xgcc/pkg$XGCC_DIR/$TARGET/share/locale/*
mv /tmp/{en_GB,locale.alias} /tmp/xgcc/pkg$XGCC_DIR/$TARGET/share/locale/

<span class="dastx">##</span> Create the package
cd /tmp/xgcc/pkg
makepkg -l y -c n /tmp/xgcc910-glibc2.29-${K_VER}_RPi_headers-en_GB-$ARM.txz
</code>
<span class="dastx">##</span> <b>Remove the build area</b>
<code class="thtwo">cd /
rm -rf /tmp/xgcc
</code></code>
<span class="tabs"><a href="#close_gcc_x">close</a></span>
</div>
<br></div>
<!-- gcc_x - end -->

<p>
<!-- kernel - start -->
<a name="close_kernel"></a>
<br>
<span class="tabs opt"><a href="#kernel">&hellip; build 64-bit kernel</a></span><span style="vertical-align:-30%">&nbsp;&nbsp; and modules, and device tree blobs - based on <a class="extlink" href="https://docs.slackware.com/howtos:hardware:arm:gcc_aarch64_cross-compiler#building_the_arm64_kernel_modules_and_device_tree_blob_dtb">Exaga's article</a>.</span>
<div id="kernel" class="tab"><div class="b_prefs"><span class="tabs"><a href="#close_kernel">close</a></span>

This is not directly related to cross compiling TDE for aarch64, but will be needed for setting up the RPi3 to run a 64-bit system.
64-bit options are used even if this kernel, modules and blobs will be used for a 32-bit system.
<code><span class="dastx">##</span> To keep track of where stuff is installed use the package management system - delete the cross-compiler build installation directory and re-install from the package created
<code class="green thtwob">rm -rf $XGCC_DIR
installpkg /tmp/xgcc910-glibc2.29-*_RPi_headers-en_GB-aarch64.txz
</code>
<span class="dastx">##</span> Set PATH to include cross-compiler if not continuing from previous section
<code class="thtwo">[[ ! $PATH ==  *$XGCC_DIR/bin* ]] &amp;&amp; export PATH=$XGCC_DIR/bin:$PATH
</code>
<code class="thtwo">cd /tmp/linux
</code>
<span class="dastx">##</span> <b>Create .config</b>
<code class="thtwo">make -j4 ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- bcmrpi3_defconfig
</code>
<span class="dastx">##</span> <b>Build the kernel</b>
<code class="thtwo">make -j4 Image ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu-
</code>
<span class="dastx">##</span> Tail end of screen output shows where the kernel is:
<code class="console"><span style="color:white">#</span> SYSMAP  System.map
<span style="color:white">#</span> OBJCOPY arch/arm64/boot/Image
</code>
<span class="dastx">##</span> <b>Build the device tree blobs</b>
<code class="thtwo">make -j4 dtbs ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu-
</code>
<span class="dastx">##</span> find . -name "*rpi-3-b.dtb"
<code class="console"><span style="color:white">#</span>./arch/arm64/boot/dts/broadcom/bcm2710-rpi-3-b.dtb
<span style="color:white">#</span>./arch/arm64/boot/dts/broadcom/bcm2837-rpi-3-b.dtb
</code>
<span class="dastx">##</span> <b>Build the arm64 modules</b>
<code class="thtwo">make -j4 modules ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu-
make -j4 modules_install ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- INSTALL_MOD_PATH=/tmp/modules
(cd /tmp/modules
makepkg -l y -c n /tmp/kernel-modules-$K_VER-RPi-arm64.txz)
rm -rf /tmp/modules
</code></code>
<b>Installation</b>
As detailed in <a class="extlink" href="https://docs.slackware.com/howtos:hardware:arm:gcc_aarch64_cross-compiler#copying_the_arm64_kernel_modules_and_device_tree_blobs_dtb">Exaga's article</a>, install the dtbs and the kernel [Image &Rightarrow; kernel8.img] to the microSD card boot partition; and the modules to the OS partition.

<span class="tabs"><a href="#close_kernel">close</a></span>
</div>
<br></div>
<!-- kernel - end -->


<p>
<!-- qemu - start -->
<a name="close_qemu"></a>
<br>
<span class="tabs"><a href="#qemu">&hellip; build qemu</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;Required to run arm binaries used during the build - for example tquic and tde-config.
</span>
<div id="qemu" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_qemu">close</a></span>
<code><code class="thtwo">cd /tmp
</code>
<code class="thtwo"><span style="color: #c50000;">wget https://download.qemu.org/qemu-2.12.1.tar.xz</span>
</code>
<code class="thtwo">tar xf qemu-2.12.1.tar.xz
cd qemu-2.12.1/
mkdir build
cd build
</code>
<span class="dastx">##</span> Only the one target is needed for the LSB binaries required for the RPi3,
<span class="dastx">##</span> and most other options are not required for this particular use.
<span class="dastx">##</span> There is no need to build qemu-static because qemu will be built and run within this environment.
<code class="thtwo">export PATH=/usr/local/sbin:/usr/sbin:/sbin:/usr/local/bin:/usr/bin:/bin

../configure \
--target-list=$ARM-linux-user \
--audio-drv-list= \
--disable-blobs \
--disable-bluez \
--disable-brlapi \
--disable-bsd-user \
--disable-bzip2 \
--disable-cap-ng \
--disable-capstone \
--disable-crypto-afalg \
--disable-curl \
--disable-curses \
--disable-debug-info \
--disable-debug-tcg \
--disable-docs \
--disable-fdt \
--disable-gcrypt \
--disable-glusterfs \
--disable-gnutls \
--disable-gtk \
--disable-guest-agent \
--disable-hax \
--disable-hvf \
--disable-jemalloc \
--disable-kvm \
--disable-libiscsi \
--disable-libnfs \
--disable-libssh2 \
--disable-libusb \
--disable-libxml2 \
--disable-linux-aio \
--disable-lzo \
--disable-malloc-trim \
--disable-modules \
--disable-netmap \
--disable-nettle \
--disable-numa \
--disable-opengl \
--disable-qom-cast-debug \
--disable-rbd \
--disable-rdma \
--disable-replication \
--disable-sanitizers \
--disable-seccomp \
--disable-sdl \
--disable-slirp \
--disable-smartcard \
--disable-snappy \
--disable-sparse \
--disable-spice \
--disable-system \
--disable-tcg-interpreter \
--disable-tcmalloc \
--disable-tools \
--disable-tpm \
--disable-usb-redir \
--disable-vde \
--disable-vhost-crypto \
--disable-vhost-net \
--disable-vhost-scsi \
--disable-vhost-user \
--disable-vhost-vsock \
--disable-virglrenderer \
--disable-virtfs \
--disable-vte \
--disable-vnc \
--disable-vxhs \
--disable-xen \
--disable-xfsctl
</code>
<code class="thtwo">make -j6
make install DESTDIR=/tmp/qemu-temp
</code></code>
qemu-$ARM will be copied to sysroot in the next section &hellip;

<span class="tabs"><a href="#close_qemu">close</a></span>
</div>
<br></div>
<!-- qemu - end -->


<p>
<!-- Set_variables - start -->
<a name="close_Set_variables"></a>
<br>
<span class="tabs"><a href="#Set_variables">&hellip; the build environment</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;Set the shell variables and install the required arm headers and libraries in SYSROOT.</span>
<div id="Set_variables" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_Set_variables">close</a></span>
<code><b>Install the cross-compiler</b>
To keep track of where stuff is installed use the package management system - delete the cross-compiler build installation directory and re-install from the package created:
<code class="green thtwob">rm -rf $XGCC_DIR
installpkg /tmp/xgcc910-glibc2.29-${K_VER}_RPi_headers-en_GB-$ARM.txz
</code>
<span class="dastx">##</span> Set the variables for the TDE packages builds
<code class="thtwo">export <b>TDE_VERSION</b>=<b>14.0.9</b>
export INSTALL_TDE=<b>/opt/tde</b>
export SYS_CNF_DIR=<b>/etc/tde</b>
[[ $ARM == aarch64 ]] &amp;&amp; export LIBDIRSUFFIX=64
export TQTDIR=$INSTALL_TDE
export COMPILER=$HOST-gcc
export COMPILER_CXX=$HOST-g++
export CC=$COMPILER
export CXX=$COMPILER_CXX
export PLUGIN_INSTALL_DIR=tde
export NUMJOBS=<b>-j6</b>
export BUILD=<b>1</b>
export SLKLDFLAGS=<b>""</b>
export SLKCFLAGS=<b>-O2</b>
export I18N=<b>en_GB</b>
</code>
<span class="dastx">##</span> Set variables for local paths:
<code class="thtwo"><span class="dastx">##</span> where the source archives are:
export TDE_SRC=<span class="comment">/path_to_${TDE_VERSION}_source_archives</span>
export MISC_SRC=<span class="comment">/path_to_misc_source_archives</span>

<span class="dastx">##</span> Set <i>Slack_base</i> where the Slackware/Slarm64 packages a-y directories are:
export Slack_base=<span class="comment">/path_to_[Slackware_arm_current/Slarm64]_a-y_directories</span>

<span class="green"><span class="dastx">##</span> for SYSROOT location - option [2] in setting up the build environment
export SYSROOT_REPO=<span class="comment">/path_to_[Slackware_arm_current/Slarm64]_libs_headers_installation_directory</span></span>
</code>
<span class="dastx">##</span> ldconfig is not going to be used during arm packages installaion because it's an x86 binary, nor is /etc/ld.so.conf going to be updated, so use LD_LIBRARY_PATH to find libtqt-mt.so.3 during the build.
<span class="dastx">##</span> And add the location of the libstdc++, libssp etc. libs from the cross compiler.
<code class="thtwo">export LD_LIBRARY_PATH=$SYSROOT$TQTDIR/lib$LIBDIRSUFFIX:$XGCC_DIR/$HOST/lib$LIBDIRSUFFIX
</code>
<span class="dastx">##</span> The arm libs and headers needed for cross compiling need to be installed in SYSROOT.
<span class="dastx">##</span> They can be [1] directly installed to $SYSROOT if the cross compiler is to be a permanent addition to the system, otherwise [2] installed to a directory [$SYSROOT_REPO] which is bind-mounted to $SYSROOT:
<code class="green thtwob"><span class="dastx">##</span> [2]:
mkdir -p $SYSROOT_REPO
mount -B $SYSROOT_REPO $SYSROOT
</code>
<span class="dastx">##</span> Create a source directory and place or sym-link all the source archives there
<code class="thtwo">mkdir -p $SYSROOT/src
<span class="comment">ln -sf $MISC_SRC/* $SYSROOT/src/
ln -sf $TDE_SRC/* $SYSROOT/src/</span>
</code>
<span class="dastx">##</span> only need qemu-$ARM from the qemu build/installation - just place it somewhere the kernel can find it &hellip;
<code class="thtwo">mkdir -p $SYSROOT/x86
cp /tmp/qemu-temp/usr/local/bin/qemu-$ARM $SYSROOT/x86
rm -rf /tmp/qemu*
</code>
<span class="dastx">##</span> &hellip; and <b>load the arm interpreter</b>
<code class="thtwo">modprobe binfmt_misc
mount binfmt_misc -t binfmt_misc /proc/sys/fs/binfmt_misc

[[ $ARM == aarch64 ]] &amp;&amp; \
echo ":arm:M::\x7fELF\x02\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\xb7\x00:\xff\xff\xff\xff\xff\xff\xff\x00\xff\xff\xff\xff\xff\xff\xff\xff\xfe\xff\xff\xff:$SYSROOT/x86/qemu-$ARM:" > /proc/sys/fs/binfmt_misc/register \
|| \
echo ":arm:M::\x7fELF\x01\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x28\x00:\xff\xff\xff\xff\xff\xff\xff\x00\xff\xff\xff\xff\xff\xff\xff\xff\xfe\xff\xff\xff:$SYSROOT/x86/qemu-$ARM:" > /proc/sys/fs/binfmt_misc/register
</code>
<span class="dastx">##</span> let qemu know where the target libraries are
<code class="thtwo">export QEMU_LD_PREFIX=$SYSROOT
</code>

<span class="dastx">##</span> Install all packages needed to build the required TDE packages.
<span class="dastx">##</span> SYSROOT is not a functioning system, it's just a repository for arm libs and headers required for cross compiling.
<code class="thtwo"><span class="dastx">##</span> move ldconfig out of the way - links will be set up by doinst.sh
mv /sbin/ldconfig /sbin/ldconfig-bak
export ROOT=$SYSROOT
installpkg /tmp/kernel-headers-*-RPi-*.txz

<b>cd $Slack_base</b>
<span class="dastx">##</span> glibc must be the same version as for the cross-compiler to prevent 'undefined reference to &hellip;' errors
installpkg l/glibc-2.29-*.txz
installpkg */dbus-*.txz
installpkg a/eudev-*.txz
installpkg x/fontconfig-*.txz
installpkg l/freetype-*.txz
installpkg x/libICE-*.txz
installpkg x/libSM-*.txz
installpkg x/libX11-*.txz
installpkg x/libXcomposite-*.txz
installpkg x/libXcursor-*.txz
installpkg x/libXext-*.txz
installpkg x/libXft-*.txz
installpkg x/libXi-*.txz
installpkg x/libXinerama-*.txz
installpkg x/libXmu-*.txz
installpkg x/libXrandr-*.txz
installpkg x/libXrender-*.txz
installpkg l/libjpeg-turbo-*.txz
installpkg l/libmng-*.txz
installpkg l/libpng-*.txz
installpkg x/mesa-*.txz
installpkg a/util-linux-*.txz
installpkg l/zlib-*.txz
installpkg l/harfbuzz-*.txz
installpkg l/graphite2-*.txz
installpkg l/lcms2-*.txz
installpkg x/libXau-*.txz
installpkg x/libXdamage-*.txz
installpkg x/libXdmcp-*.txz
installpkg x/libXfixes-*.txz
installpkg x/libXt-*.txz
installpkg x/libXxf86vm-*.txz
installpkg x/libdrm-*.txz
installpkg x/libxcb-*.txz
installpkg x/libxshmfence-*.txz
installpkg x/glu-*.txz
installpkg x/libXi-*.txz
installpkg l/libidn2-*.txz
installpkg ap/cups-*.txz
installpkg l/libxml2-*.txz
installpkg l/libxslt-*.txz
installpkg a/file-*.txz
installpkg l/taglib-1*.txz
installpkg ap/cdparanoia-*.txz
installpkg l/audiofile-*.txz
installpkg l/alsa-lib-*.txz
installpkg l/glib2-*.txz
installpkg l/pcre-*.txz
installpkg ap/flac-*.txz
installpkg l/libogg-*.txz
installpkg l/libvorbis-*.txz
installpkg l/libmad-*.txz
installpkg n/openssl-*.txz
installpkg a/bzip2-*.txz
installpkg a/xz-*.txz
installpkg l/openexr-*.txz
installpkg l/ilmbase-*.txz
installpkg l/expat-*.txz
installpkg n/gnutls-*.txz
installpkg n/p11-kit-*.txz
installpkg l/libunistring-*.txz
installpkg n/nettle-*.txz
installpkg l/libffi-*.txz
installpkg n/NetworkManager-*.txz
installpkg a/acl-*.txz
installpkg a/attr-*.txz
installpkg x/libpthread-stubs-*.txz
installpkg n/libtirpc-*.txz
installpkg x/libfontenc-*.txz
installpkg x/libXtst-*.txz
installpkg n/htdig-*.txz
installpkg x/libxkbfile-*.txz
installpkg x/xorgproto-*.txz
<span class="dastx">##</span> + for tdeutils
installpkg l/gmp-*.txz
installpkg d/python-*.txz
installpkg d/python3-*.txz
<span class="dastx">##</span> + for imlib
installpkg l/libtiff-*.txz
installpkg l/giflib-*.txz
<span class="dastx">##</span> + for tdegraphics
installpkg l/poppler-*.txz
<span class="dastx">##</span> + for imlib - Slarm64 deps
installpkg l/libwebp-*.txz
installpkg l/zstd-*.txz
<span class="dastx">##</span> + for 14.0.9+ builds
installpkg d/intltool-*.txz

<span class="dastx">##</span> remove .la files and any links to them - they can cause a problem because the paths are hard-coded to /usr/... and so pick up the build machine libs rather than the libs in SYSROOT
find $SYSROOT/usr/lib$LIBDIRSUFFIX -type l -name \*.la -exec rename .la .la-bak {} \;
find $SYSROOT/usr/lib$LIBDIRSUFFIX -type f -name \*.la -exec rename .la .la-bak {} \;
<span class="dastx">##</span> restore ldconfig
mv /sbin/ldconfig-bak /sbin/ldconfig
unset ROOT
cd /

<span class="dastx">##</span> This link is in the wrong place
[[ $ARM == aarch64 ]] &amp;&amp; mv $SYSROOT/ld-linux-aarch64.so.1 $SYSROOT/lib/ld-linux-aarch64.so.1
</code>
<span class="dastx">##</span> Set the PATH for this shell
<code class="thtwo"><span class="dastx">##</span> Add $XGCC_DIR/bin for $HOST-gcc etc; $XGCC_DIR/$HOST/bin for strip etc.
export PATH=$XGCC_DIR/bin:$XGCC_DIR/$HOST/bin:/usr/local/sbin:/usr/sbin:/sbin:/usr/local/bin:/usr/bin:/bin
</code>
<span class="dastx">##</span> <b>Set up pkg-config</b> to prefix -I and -L paths in *.pc files with $SYSROOT.
<span class="dastx">##</span> This works where the host libs and headers <b>are</b> in $SYSROOT &hellip;
<span class="dastx">##</span> But TDE doesn't install to SYSROOT, its .pc files might be in, say, /opt/tde/lib64/pkgconfig, with the result that TDE includes and libs can't be found.
<span class="dastx">##</span> If INSTALL_TDE=/usr, TDE would also have to be *installed* to SYSROOT - linking wouldn't work because that would pull the build system libs and headers into SYSROOT, as would bind mounting it.
<span class="dastx">##</span> So my work-around for this is to install TDE to both / and $SYSROOT so that the TDE binaries will be found in $INSTALL_TDE and pkg-config will locate the headers and libs in $SYSROOT$INSTALL_TDE.
<code class="thtwo">export PKG_CONFIG_PATH=
export PKG_CONFIG_SYSROOT_DIR=$SYSROOT
export PKG_CONFIG_LIBDIR=$SYSROOT/usr/lib$LIBDIRSUFFIX/pkgconfig:$SYSROOT/usr/share/pkgconfig:$SYSROOT$INSTALL_TDE/lib$LIBDIRSUFFIX/pkgconfig
</code>
<span class="dastx">##</span> <b>Functions</b> - common to each build
<code class="thtwo">untar_fn ()
{
cd $TMP/tmp-$PRGNAM
tar xf $SYSROOT/src/$PRGNAM-*$VERSION.tar.*
cd $PRGNAM-*$VERSION
}

chown_fn ()
{
chown -R root:root .
chmod -R u+w,go+r-w,a+rX-st .
}

cd_builddir_fn()
{
mkdir -p build-${PRGNAM}
cd build-${PRGNAM}
}

strip_fn ()
{
find $PKG | xargs file | grep -e "executable" -e "shared object" | grep ELF \
  | cut -f 1 -d : | xargs strip --strip-unneeded 2> /dev/null || true
}

mkdir_install_fn ()
{
mkdir -p $PKG/install
}

makepkg_fn ()
{
cd $PKG
makepkg --linkadd y --chown n $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
}

ltoolupdate_fn ()
{
{
<span class="dastx">##</span> look in SYSROOT for headers and libs, and
<span class="dastx">##</span> edit hard coded tqt directory for tqt3/tqtinterface installed to TQTDIR [!= /usr]
sed -i "s|/usr/include/tqt\"|$SYSROOT$TQTDIR/include/tqt\"|" admin/acinclude.m4.in
sed -i "s|/usr/include/tqt3|$SYSROOT$TQTDIR/include/tqt|" admin/acinclude.m4.in
sed -i "s|/usr/lib/tqt3|$SYSROOT$TQTDIR|" admin/acinclude.m4.in
<span class="dastx">##</span> $LIBDIRSUFFIX isn't required as it's built-in as ${tdelibsuff} in acinclude.m4.in
sed -i "s|/usr/lib|$SYSROOT&amp;|g" admin/acinclude.m4.in
<span class="dastx">##</span> correct the variable name in error message
sed -i "s|variable UIC to|variable UIC_PATH to|" admin/acinclude.m4.in

<span class="dastx">##</span> edit hard coded plugins installation directories - could be 'tde'
sed -i "s|trinity|$PLUGIN_INSTALL_DIR|g" admin/acinclude.m4.in

<span class="dastx">##</span> include updating config.{guess,sub} for libart-lgpl and misc builds
[[ -d admin ]] &amp;&amp; ADMIN=admin/ || ADMIN=""
cp /$(grep -h config.guess /var/log/packages/libtool*) ./$ADMIN
cp /$(grep -h config.sub /var/log/packages/libtool*) ./$ADMIN
cp /$(grep -h ltmain.sh /var/log/packages/libtool*) admin/
cp /$(grep -h libtool.m4 /var/log/packages/libtool*) admin/libtool.m4.in
cp /$(grep -h missing /var/log/packages/libtool*) admin/

make -f admin/Makefile.common
} 2>/dev/null
}

cmake-toolchain_fn ()
{
echo "  set(CMAKE_SYSTEM_NAME Linux)
  set(CMAKE_SYSTEM_PROCESSOR arm)
  set(CMAKE_SYSROOT $SYSROOT)
<span class="dastx">##</span> maybe try this later
<span class="dastx">##</span>  set(CMAKE_CROSSCOMPILING_EMULATOR $XGCC_DIR/bin/$HOST-gcc)
<span class="dastx">##</span> these don't seem to have any affect:
  set(PKG_CONFIG_USE_CMAKE_PREFIX_PATH $SYSROOT)
  set(CMAKE_FIND_ROOT_PATH $SYSROOT)
  set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
  set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
" > cmake-toolchain.cmake
}

<span class="dastx">##</span> paths in doinst.sh should be relative to allow for installation to ROOT != "/"
doinst_sh_fn ()
{
echo "
# Update the desktop database:
/usr/bin/update-desktop-database .$INSTALL_TDE/share/applications

# Update hicolor theme cache:
/usr/bin/gtk-update-icon-cache -f -t .$INSTALL_TDE/share/icons/hicolor

# Update the mime database:
/usr/bin/update-mime-database -Vn usr/share/mime
" >> $PKG/install/doinst.sh
}
</code></code>
<span class="tabs"><a href="#close_Set_variables">close</a></span>
</div>
<br></div>
<!-- Set_variables - end -->

<p>
<!-- M_proc - start -->
<a name="close_M_proc"></a>
<br>
<span class="tabs"><a href="#M_proc">&hellip; tqmoc and meinproc x86 binaries</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;The cross compiling build time can be reduced by using x86 versions of tqmoc and meinproc which produce ARCH independent ouput. The figures for the tdebase build demonstrate how much quicker a build can be.</span>
<div id="M_proc" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_M_proc">close</a></span>

<b>tqmoc</b>, and <b>meinproc</b> with its associated x86 TDE libs, are taken from <a  class="extlink" href="https://github.com/Ray-V/tde-slackbuilds">pre-built TDE x86 packages</a>.
<code>Variables for pre-built x86 packages - these were built to install to /opt/tde on a 64-bit system
<code class="thtwo">INSTALL_TDE_x86="/opt/tde"
LIBDIRSUFFIX_x86="64"
</code>
<span class="dastx">##</span> Install x86 packages to temporary location on BUILD system
<code class="thtwo">cd <span class="comment">/location_of_pre-built_TDE_x86_packages</span>
ROOT=/tmp/x86/ installpkg tqt3-$TDE_VERSION-x86_64-*.txz tqtinterface-$TDE_VERSION-x86_64-*.txz dbus-1-tqt-$TDE_VERSION-x86_64-*.txz tdelibs-$TDE_VERSION-x86_64-*.txz libart*lgpl-$TDE_VERSION-x86_64-*.txz
</code>
<span class="dastx">##</span> Copy tqmoc, and meinproc and its dependent libraries, to a convenient location, $SYSROOT/x86
<code class="thtwo">cd $SYSROOT/x86
cp -a /tmp/x86$INSTALL_TDE_x86/bin/tqmoc .
cp -a /tmp/x86$INSTALL_TDE_x86/bin/meinproc .
cp -a /tmp/x86$INSTALL_TDE_x86/lib$LIBDIRSUFFIX_x86/lib{DCOP,dbus-1-tqt,tde{core,fx,io,su,ui,walletclient}}.so* .
cp -a /tmp/x86$INSTALL_TDE_x86/lib$LIBDIRSUFFIX_x86/lib{tqt,tqt-mt}.so* .
cp -a /tmp/x86/usr/lib$LIBDIRSUFFIX_x86/libart_lgpl_2.so* .

rm -rf /tmp/x86*
</code>
<span class="dastx">##</span> Add an RPATH so meinproc will use these libraries
<code class="thtwo">patchelf --force-rpath --set-rpath $SYSROOT/x86 $SYSROOT/x86/meinproc
patchelf --force-rpath --set-rpath $SYSROOT/x86 $SYSROOT/x86/libtdecore.so.14.0.0
</code>
<span class="dastx">##</span> Copy the x86 meinproc to the TDE installation directory - it's fussy about its location, producing parsing errors otherwise.
<code class="thtwo">mkdir -p $INSTALL_TDE/bin
cp $SYSROOT/x86/meinproc $INSTALL_TDE/bin/meinproc-x86
</code></code>
<span class="tabs"><a href="#close_M_proc">close</a></span>
</div>
<br></div>
<!-- M_proc - end -->

<br>
<b>Builds</b>
<br>
<!-- tqt - start -->
<a name="close_tqt"></a>
<br>
<span class="tabs reqd"><a href="#tqt">&hellip; tqt3</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;
</a></span>
<div id="tqt" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_tqt">close</a></span>
<code><code class="thtwo">cd /
PRGNAM=tqt3
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM
PREPEND=no

untar_fn
</code>

<span class="dastx">##</span> <b>Build 'everything = arm' for RPi3 installation</b>
<code class="green thtwob"><span class="dastx">##</span> Remove some stuff that's not needed for TDE build and run-time support

<span class="dastx">##</span> html docs occupy ~21M
sed -i '/htmldocs/d' src/qt_install.pri
sed -i '/translations/d' src/qt_install.pri
sed -i '/assistanttranslations/d' tools/assistant/assistant.pro
sed -i '/phrasebooks/d' tools/linguist/linguist/linguist.pro
sed -i '/templates/d' tools/designer/designer/designer.pro

<span class="dastx">##</span> only need linux-g++
mv mkspecs/linux-g++ ../
rm -rf mkspecs/*
mv ../linux-g++ mkspecs/
</code>
<span class="dastx">##</span> RPATH is to be set as $ORIGIN/../lib, so don't need absolute libs directory built in -
<span class="dastx">##</span> Allow setting CC/CXX for linux-g++/qmake.conf -
<span class="dastx">##</span> Set correct paths for includes and libs -
<code class="thtwo">echo $'--- mkspecs/linux-g++/qmake.conf
+++ mkspecs/linux-g++/qmake.conf
@@ -11 +11 @@
-QMAKE_CC\t\t= gcc
+QMAKE_CC\t\t= $(COMPILER)
@@ -29 +29 @@
-QMAKE_CXX\t\t= g++
+QMAKE_CXX\t\t= $(COMPILER_CXX)
@@ -42,2 +42,2 @@
-QMAKE_INCDIR_X11\t= /usr/X11R6/include
-QMAKE_LIBDIR_X11\t= /usr/X11R6/lib
+QMAKE_INCDIR_X11\t= /usr/include/X11
+QMAKE_LIBDIR_X11\t= /usr/lib$(LIBDIRSUFFIX)
@@ -45,3 +45,3 @@
-QMAKE_LIBDIR_QT\t\t= $(QTDIR)/lib
-QMAKE_INCDIR_OPENGL\t= /usr/X11R6/include
-QMAKE_LIBDIR_OPENGL\t= /usr/X11R6/lib
+QMAKE_LIBDIR_QT\t\t= $(QTDIR)/lib$(LIBDIRSUFFIX)
+QMAKE_INCDIR_OPENGL\t= /usr/include/GL
+QMAKE_LIBDIR_OPENGL\t= /usr/lib$(LIBDIRSUFFIX)
@@ -49,2 +49,2 @@
-QMAKE_LINK\t\t= g++
-QMAKE_LINK_SHLIB\t= g++
+QMAKE_LINK\t\t= $(COMPILER_CXX)
+QMAKE_LINK_SHLIB\t= $(COMPILER_CXX)
@@ -58 +58 @@
-QMAKE_RPATH\t\t= -Wl,-rpath,
+QMAKE_RPATH =' | while read line
do
patch -p0
done
</code>
<code class="thtwo">chown_fn
</code>
<span class="dastx">##</span> only look in sysroot for includes and libs
<code class="thtwo">sed -i "s|/usr/include|$SYSROOT&amp;|" config.tests/{unix,x11}/*.test
sed -i "s| /include| $SYSROOT/include|" config.tests/{unix,x11}/*.test
sed -i "s| /lib| $SYSROOT/lib$LIBDIRSUFFIX|" config.tests/{unix,x11}/*.test
sed -i "s| /usr/lib| $SYSROOT/usr/lib$LIBDIRSUFFIX|" config.tests/{unix,x11}/*.test
sed -i "s|\"/lib|\"$SYSROOT/lib$LIBDIRSUFFIX|" config.tests/unix/checkavail
sed -i "s|/usr|$SYSROOT&amp;|" config.tests/unix/checkavail
</code>
<span class="dastx">##</span> Set up an arm mkspecs to use for this build where includes and libs paths are set to SYSROOT
<code class="thtwo">cp -a mkspecs/linux-g++ mkspecs/linux-arm-g++

echo $'--- mkspecs/linux-arm-g++/qmake.conf
+++ mkspecs/linux-arm-g++/qmake.conf
@@ -42,2 +42,2 @@
-QMAKE_INCDIR_X11\t= /usr/include/X11
-QMAKE_LIBDIR_X11\t= /usr/lib$(LIBDIRSUFFIX)
+QMAKE_INCDIR_X11\t= $(SYSROOT)/usr/include/X11
+QMAKE_LIBDIR_X11\t= $(SYSROOT)/usr/lib$(LIBDIRSUFFIX)
@@ -46,2 +46,2 @@
-QMAKE_INCDIR_OPENGL\t= /usr/include/GL
-QMAKE_LIBDIR_OPENGL\t= /usr/lib$(LIBDIRSUFFIX)
+QMAKE_INCDIR_OPENGL\t= $(SYSROOT)/usr/include/GL
+QMAKE_LIBDIR_OPENGL\t= $(SYSROOT)/usr/lib$(LIBDIRSUFFIX)' | while read line
do
patch -p0
done
</code>
<span class="dastx">##</span> Set -platform to arm so that tqmoc is built as an arm binary for installation on RPi3.
<span class="dastx">##</span> Set -rpath so that libtqt-mt.so.3 can be found during the build
<code class="thtwo">echo "yes" | \
 ./configure \
 -platform linux-arm-g++ \
 -xplatform linux-arm-g++ \
 -no-exceptions \
 -prefix $TQTDIR \
 -libdir $TQTDIR/lib$LIBDIRSUFFIX \
 -bindir $TQTDIR/bin \
 -headerdir $TQTDIR/include/tqt \
 -plugindir $TQTDIR/lib$LIBDIRSUFFIX/tqt/plugins \
 -datadir $TQTDIR/lib$LIBDIRSUFFIX/tqt \
 -translationdir $TQTDIR/share/tqt/translations \
 -release \
 -verbose \
 -I$SYSROOT/usr/include \
 -L$SYSROOT/usr/lib$LIBDIRSUFFIX \
 -system-zlib \
 -qt-imgfmt-png \
 -qt-imgfmt-mng \
 -qt-gif \
 -thread \
 -stl \
 -nis \
 -cups \
 -pch \
 -xft \
 -xrender \
 -xrandr \
 -xcursor \
 -tablet \
 -xinerama \
 -plugin-style-cde \
 -plugin-style-compact \
 -plugin-style-motif \
 -plugin-style-motifplus \
 -plugin-style-platinum \
 -plugin-style-sgi \
 -plugin-style-windows \
 -fast \
 -R-Wl,-rpath,\'\\\$\$ORIGIN/../lib\'
</code>
<span class="dastx">##</span> Don't build tutorial and examples which won't be installed because the release version is being built
<code class="thtwo">make $NUMJOBS symlinks src-qmake src-moc sub-src sub-tools
make install INSTALL_ROOT=$PKG
</code>
<code class="green"><span class="dastx">##</span> Remove some more stuff that's not needed for TDE build and run-time support
<span class="dastx">##</span> which I haven't yet figured out how to avoid building in the first place

<span class="dastx">##</span> binaries
(cd $PKG$INSTALL_TDE/bin/
rm tqtmergetr
rm tqm2ts
rm tqlupdate
rm tqembed
rm msg2tqm
rm maketqpf
rm tqtcreatecw
rm tqlrelease
rm tqdesigner)

<span class="dastx">##</span> libraries
(cd $PKG$INSTALL_TDE/lib$LIBDIRSUFFIX/
rm libtqteditor*
rm libtqassistantclient*)
</code>
<span class="dastx">##</span> remove sysroot path from RPi3 package
<code class="thtwo">sed -i "s|-L\$(S.*X)||g;s|$SYSROOT||g" $PKG$INSTALL_TDE/lib$LIBDIRSUFFIX/libtqt-mt.la
sed -i "s|-L\$(S.*X)||g;s|$SYSROOT||g" $PKG$INSTALL_TDE/lib$LIBDIRSUFFIX/pkgconfig/tqt-mt.pc
</code>
<span class="dastx">##</span> move mkspecs/linux-arm-g++ to the TDE installation directory - it isn't needed for the RPi3 package, but is needed for building tqca-tls
<code class="thtwo">(cd $PKG$INSTALL_TDE/lib$LIBDIRSUFFIX/tqt/mkspecs/
mkdir -p $INSTALL_TDE/lib$LIBDIRSUFFIX/tqt/mkspecs
mv linux-arm-g++ $INSTALL_TDE/lib$LIBDIRSUFFIX/tqt/mkspecs
ln -sf linux-g++ default)
</code>
<code class="thtwo">mkdir -p $PKG/etc/profile.d

echo '#!'"/bin/sh
# Environment path variable for the tQt package.
export QTDIR=$TQTDIR
" > $PKG/etc/profile.d/tqt3.sh

chmod 755 $PKG/etc/profile.d/tqt3.sh
</code>
<code class="thtwo">strip_fn
</code>
<code class="thtwo">mkdir_install_fn
</code>
<code class="thtwo"># Add this to the doinst.sh:
cat &lt;&lt;EOINS >> $PKG/install/doinst.sh
# Add TDE library directory:
[[ \$(cat etc/ld.so.conf|head -n1) != $INSTALL_TDE/lib$LIBDIRSUFFIX ]] &amp;&amp; \
sed -i "1i $INSTALL_TDE/lib$LIBDIRSUFFIX" etc/ld.so.conf

# Add TQt library directory:
[[ \$(cat etc/ld.so.conf|head -n1) != $TQTDIR/lib$LIBDIRSUFFIX ]] &amp;&amp;\
sed -i "1i $TQTDIR/lib$LIBDIRSUFFIX" etc/ld.so.conf

[[ -x /sbin/ldconfig ]] &amp;&amp; /sbin/ldconfig

EOINS

cat &lt;&lt;EOINS >> $PKG/install/doinst.sh
## This could be a rebuild or upgradepkg running installpkg twice,
## so delete any previous routine
sed -i '/Update PKG_CONFIG_PATH for TDE/,+11d' etc/profile.d/pkgconfig.sh

echo '# Update PKG_CONFIG_PATH for TDE:
## remove duplicated paths:
PKG_CONFIG_PATH=\$(echo \$PKG_CONFIG_PATH| tr : \\\\n | awk '"'!seen[\\\$0]++'"' | tr \\\\n :|sed '"'s|:\$||'"')
#
## add path for INSTALL_TDE ..
[[ ! \$PKG_CONFIG_PATH == *$INSTALL_TDE/lib$LIBDIRSUFFIX/pkgconfig* ]] &amp;&amp; \\
PKG_CONFIG_PATH=\$PKG_CONFIG_PATH:$INSTALL_TDE/lib$LIBDIRSUFFIX/pkgconfig
## .. and for TQTDIR if different
[[ ! \$PKG_CONFIG_PATH == *$TQTDIR/lib$LIBDIRSUFFIX/pkgconfig* ]] &amp;&amp; \\
PKG_CONFIG_PATH=\$PKG_CONFIG_PATH:$TQTDIR/lib$LIBDIRSUFFIX/pkgconfig
#
export PKG_CONFIG_PATH' >> etc/profile.d/pkgconfig.sh

EOINS
</code>
<code class="thtwo">doinst_sh_fn

makepkg_fn

<span class="dastx">##</span> move ldconfig out of the way - links will be set up by doinst.sh
mv /sbin/ldconfig /sbin/ldconfig-bak

<span class="dastx">##</span> install to '/' for TDE binaries
installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
<span class="dastx">##</span> and install to SYSROOT for TDE headers and libs
ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code></code>
<span class="tabs"><a href="#close_tqt">close</a></span>
</div>
<br></div>
<!-- tqt - end -->


<p>
<!-- tqtint - start -->
<a name="close_tqtint"></a>
<br>
<span class="tabs reqd"><a href="#tqtint">&hellip; tqtinterface</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="tqtint" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_tqtint">close</a></span>
<code><code class="thtwo">cd /
PRGNAM=tqtinterface
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$TQTDIR \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DQT_PREFIX_DIR=$TQTDIR \
    -DQT_INCLUDE_DIR=$TQTDIR/include/tqt \
    -DMOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -DQT_VERSION=3 \
    -DWITH_QT3="OFF" \
    -DWITH_QT4="OFF" \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install

<span class="dastx">##</span> edit tqmoc path from package so that when installed on RPi3, the tqmoc path is correct
sed -i "s|$SYSROOT/x86/tqmoc|$INSTALL_TDE/bin/tqmoc|" $PKG$INSTALL_TDE/lib$LIBDIRSUFFIX/pkgconfig/tqt.pc
sed -i "s|$SYSROOT/x86/tqmoc|$INSTALL_TDE/bin/tqmoc|" $PKG$INSTALL_TDE/bin/tmoc

strip_fn

mkdir_install_fn

makepkg_fn

installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz

<span class="dastx">##</span> revert tqmoc path in tmoc for cross compiling on the BUILD system
sed -i "s|$INSTALL_TDE/bin/tqmoc|$SYSROOT/x86/tqmoc|" {,$SYSROOT}$INSTALL_TDE/bin/tmoc
</code></code>
<span class="tabs"><a href="#close_tqtint">close</a></span>
</div>
<br></div>
<!-- tqtint - end -->


<p>
<!-- arts - start -->
<a name="close_arts"></a>
<br>
<span class="tabs reqd"><a href="#arts">&hellip; arts</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="arts" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_arts">close</a></span>
<code><code class="thtwo">cd /
PRGNAM=arts
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -D TQT_REPLACE_SCRIPT=$INSTALL_TDE/bin/tqt-replace \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DWITH_ALSA="ON" \
    -DWITH_AUDIOFILE="ON" \
    -DWITH_ESOUND="OFF" \
    -DWITH_GCC_VISIBILITY="OFF" \
    -DWITH_JACK="OFF" \
    -DWITH_MAD="ON" \
    -DWITH_SNDIO="OFF" \
    -DWITH_VORBIS="ON" \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install

<span class="dastx">##</span> remove sysroot path from package
sed -i "s|$SYSROOT||g" $PKG$INSTALL_TDE/lib$LIBDIRSUFFIX/pkgconfig/artsc.pc

strip_fn

mkdir_install_fn

makepkg_fn

installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code></code>
<span class="tabs"><a href="#close_arts">close</a></span>
</div>
<br></div>
<!-- arts - end -->


<p>
<!-- dbus - start -->
<a name="close_dbus"></a>
<br>
<span class="tabs reqd"><a href="#dbus">&hellip; dbus-tqt</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="dbus" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_dbus">close</a></span>
<code><code class="thtwo">cd /
PRGNAM=dbus-tqt
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install

strip_fn

mkdir_install_fn

makepkg_fn

installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code></code>
<span class="tabs"><a href="#close_dbus">close</a></span>
</div>
<br></div>
<!-- dbus - end -->


<p>
<!-- dbus_1 - start -->
<a name="close_dbus_1"></a>
<br>
<span class="tabs reqd"><a href="#dbus_1">&hellip; dbus-1-tqt</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="dbus_1" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_dbus_1">close</a></span>
<code><code class="thtwo">cd /
PRGNAM=dbus-1-tqt
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DWITH_GCC_VISIBILITY="OFF" \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install

strip_fn

mkdir_install_fn

makepkg_fn

installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code></code>
<span class="tabs"><a href="#close_dbus_1">close</a></span>
</div>
<br></div>
<!-- dbus_1 - end -->


<p>
<!-- libart - start -->
<a name="close_libart"></a>
<br>
<span class="tabs reqd"><a href="#libart">&hellip; libart-lgpl</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="libart" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_libart">close</a></span>
<code><code class="thtwo">cd /
PRGNAM=libart-lgpl
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DMAN_INSTALL_DIR=/usr/man \
    -DWITH_GCC_VISIBILITY="OFF" \
    -DBUILD_DOC="ON" \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install

strip_fn

mkdir_install_fn

makepkg_fn

installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code></code>
<span class="tabs"><a href="#close_libart">close</a></span>
</div>
<br></div>
<!-- libart - end -->

<p>
<!-- tqca_tls - start -->
<a name="close_tqca_tls"></a>
<br>
<span class="tabs reqd"><a href="#tqca_tls">&hellip; tqca-tls</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="tqca_tls" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_tqca_tls">close</a></span>
<code><code class="thtwo">cd /
PRGNAM=tqca-tls
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DWITH_GCC_VISIBILITY="OFF" \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install 

strip_fn

mkdir_install_fn

makepkg_fn

installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code></code>
<span class="tabs"><a href="#close_tqca_tls">close</a></span>
</div>
<br></div>
<!-- tqca_tls - end -->


<p>
<!-- tdelibs - start -->
<a name="close_tdelibs"></a>
<br>
<span class="tabs reqd"><a href="#tdelibs">&hellip; tdelibs</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="tdelibs" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_tdelibs">close</a></span>
<code><code class="thtwo">cd /
PRGNAM=tdelibs
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn
</code>
<span class="dastx">##</span> Patch for TDE bug 2821 to make error message more user friendly
<code class="thtwo">patch -N -p0 &lt;&lt; EOF || true
--- tdecmshell/main.cpp
+++ tdecmshell/main.cpp
@@ -98,0 +99,6 @@
+
+    if (path.left(4) == "tde-")
+        path.replace(0,4,"tde/");
+    else
+        path.prepend("tde/");
+
@@ -101 +107 @@
-        kdWarning(780) &lt;&lt; "Could not find module '" &lt;&lt; module &lt;&lt; "'." &lt;&lt; endl;
+        kdError(780) &lt;&lt; "Could not find '" &lt;&lt; path &lt;&lt; "'." &lt;&lt; endl;
EOF
</code>
<span class="dastx">##</span> Configuration files are in /etc/tde, and plugins in $INSTALL_TDE/lib$LIBDIRSUFFIX/tde
<code class="thtwo">for file in \
tdecore/kstandarddirs.cpp \
tdecore/kcrash.cpp \
tdeinit/lnusertemp.c \
tdeinit/tdeinit.cpp \
tdeinit/wrapper.c \
tdelfeditor/tdelfeditor.cpp \
tdeio/tests/kurifiltertest.cpp \
tdeio/tests/kmimetypetest.sh.cmake \
tdeio/tests/jobtest.cpp \
tdeio/kssl/kopenssl.cc \
tdeinit/tdestartupconfig.cpp \
tdecore/tdeconfig_compiler/tests/test9main.cpp
do
sed -i "s|trinity|$PLUGIN_INSTALL_DIR|g" $file || true
done
sed -i "s|\"trinity\"|\"$PLUGIN_INSTALL_DIR\"|"  tdecore/tdeapplication.cpp || true
</code>
<span class="dastx">##</span> Patching for preferred formatting of help files
<code class="thtwo">patch -N -p0 &lt;&lt; EOF || true
--- doc/common/tde-docs.css
+++ doc/common/tde-docs.css
<span class="dastx">#</span>
<span class="dastx">##</span> tone down menu items highlighting
@@ -176,6 +176,6 @@
 .guilabel, .interface, .guibutton {
-    background-color: rgb(220, 220, 220);
+    background-color: #f0f0f0;
     color: black;
     border: 1px solid rgb(190, 190, 190);
-
+    padding:0px 1px;
     -khtml-border-radius: 3px;
<span class="dastx">#</span>
<span class="dastx">##</span> for the <keycap> tags
@@ -199 +199 @@
-    background-color: #DFDFFF;
+    background-color: #efefef;
@@ -201 +201,6 @@
-
+    padding-left: 1px;
+    padding-right: 1px;
+    border-style: solid;
+    border-width: 0px 1px;
+    border-color: lightgray;
+    color:gray;
@@ -209 +214 @@
-    border 2px solid gray;
+    border: 2px solid gray;
<span class="dastx">#</span>
<span class="dastx">##</span> left justify text in the <para> tags in index.docbook
--- doc/common/tde-default.css
+++ doc/common/tde-default.css
@@ -211 +211 @@
-  text-align: justify; 
+  text-align: left; 
@@ -319 +319 @@
-  text-align: justify; 
+  text-align: left;
EOF
</code>
<span class="dastx">##</span> Build without spell checker installed
<span class="dastx">##</span> Otherwise, install Aspell, or Hspell, or Ispell &hellip;
<code class="thtwo">sed -i 's|^.*Spell checker selected as default.*$|message( STATUS " ## no spell checker selected ##" )|' CMakeLists.txt
</code>
<code class="thtwo">chown_fn

cd_builddir_fn
</code>
<span class="dastx">##</span> Add exitcodes for try_run tests which produce a cmake error when x-compiling, unless CMAKE_CROSSCOMPILING_EMULATOR is set
<span class="dastx">##</span> Set exitcodes to values that a native build would give
<span class="dastx">##</span> Additionally, command line '-D HAVE_xxxxx_EXITCODE:STRING=x' option fails with cmake 3.12, so these builds use cmake 3.10
<code class="thtwo"><span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -D HAVE_GOOD_GETADDRINFO_EXITCODE:STRING=0 \
    -D HAVE_OPENPTY_EXITCODE:STRING=0 \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DSYSCONF_INSTALL_DIR=$SYS_CNF_DIR \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DCMAKE_SKIP_RPATH="OFF" \
    -DCMAKE_INSTALL_RPATH=$INSTALL_TDE/lib$LIBDIRSUFFIX \
    -DPLUGIN_INSTALL_DIR=$INSTALL_TDE/lib$LIBDIRSUFFIX/$PLUGIN_INSTALL_DIR \
    -DTDE_MALLOC="OFF" \
    -DTDE_MALLOC_DEBUG="OFF" \
    -DTDE_MALLOC_FULL="OFF" \
    -DWITH_ALSA="ON" \
    -DWITH_ARTS="ON" \
    -DWITH_ASPELL="OFF" \
    -DWITH_AVAHI=${AVAHI:-"OFF"} \
    -DWITH_CONSOLEKIT="OFF" \
    -DWITH_CUPS="ON" \
    -DWITH_DEVKITPOWER="ON" \
    -DWITH_ELFICON="OFF" \
    -DWITH_GAMIN="OFF" \
    -DWITH_GCC_VISIBILITY="OFF" \
    -DWITH_HAL="OFF" \
    -DWITH_HSPELL="OFF" \
    -DWITH_INOTIFY="ON" \
    -DWITH_ISPELL="OFF" \
    -DWITH_JASPER="OFF" \
    -DWITH_KDE4_MENU_SUFFIX="ON" \
    -DWITH_LIBART="ON" \
    -DWITH_LIBBFD="OFF" \
    -DWITH_LIBIDN="OFF" \
    -DWITH_LOGINDPOWER="ON" \
    -DWITH_LUA="OFF" \
    -DWITH_LZMA="ON" \
    -DWITH_MITSHM="OFF" \
    -DWITH_NETWORK_MANAGER_BACKEND="ON" \
    -DWITH_OLD_XDG_STD="OFF" \
    -DWITH_OPENEXR="ON" \
    -DWITH_PCRE="ON" \
    -DWITH_SSL="ON" \
    -DWITH_SUDO_TDESU_BACKEND="ON" \
    -DWITH_TDEHWLIB="ON" \
    -DWITH_TDEHWLIB_DAEMONS="ON" \
    -DWITH_TDEICONLOADER_DEBUG="OFF" \
    -DWITH_TIFF="ON" \
    -DWITH_UDISKS2="ON" \
    -DWITH_UDISKS="ON" \
    -DWITH_UPOWER="OFF" \
    -DWITH_UTEMPTER="OFF" \
    -DWITH_XCOMPOSITE="ON" \
    -DWITH_XRANDR="ON" \
    -Wno-dev \
    ..

<span class="dastx">##</span> Modify paths so that SYSROOT headers and libs are used, to avoid this error:
<span class="dastx">##</span> error: /usr/include/gnu/stubs.h:7:11: fatal error: gnu/stubs-32.h: No such file or directory
<span class="dastx">##</span> The alternative is to modify FindPkgConfig.cmake to prefix the INCLUDEDIR and LIBDIR results with ${CMAKE_SYSROOT}, but as this issue only surfaces here and that's a system file, let's keep the change local:
sed -i "s|=/usr/include|=$SYSROOT/usr/include|" CMakeCache.txt
sed -i "s|=/usr/lib$LIBDIRSUFFIX|=$SYSROOT/usr/lib$LIBDIRSUFFIX|" CMakeCache.txt

<span class="dastx">##</span> Quick fix for:
<span class="dastx">##</span> /bin/sh: dcopidl2cpp: command not found
<span class="dastx">##</span> /bin/sh: tdeconfig_compiler: command not found
<span class="dastx">##</span> /bin/sh: meinproc: command not found
PATH=$PATH:$PWD/dcop/dcopidl2cpp:$PWD/tdecore/tdeconfig_compiler:$PWD/kdoctools

make $NUMJOBS
make DESTDIR=$PKG install

<span class="dastx">##</span> remove sysroot paths to libz.so, libjpeg.so, and libasound.so from package
sed -i "s|$SYSROOT||g" $PKG$INSTALL_TDE/share/cmake/tdelibs.cmake
</code>
<code class="thtwo">strip_fn

mkdir_install_fn

doinst_sh_fn
</code>
<code class="thtwo">makepkg_fn

installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz

<span class="dastx">##</span> prefix paths with SYSROOT for build.make => link.txt dependencies for cmake builds for consistency with pkg-config paths
sed -i "s|\"$INSTALL_TDE|\"$SYSROOT$INSTALL_TDE|" {,$SYSROOT}$INSTALL_TDE/share/cmake/tdelibs.cmake
<span class="dastx">##</span> reinstate the sysroot paths stripped out of the package for libz, libjpeg, libasound
sed -i "s|;/usr|;$SYSROOT/usr|" {,$SYSROOT}$INSTALL_TDE/share/cmake/tdelibs.cmake
</code></code>
<span class="tabs"><a href="#close_tdelibs">close</a></span>
</div>
<br></div>
<!-- tdelibs - end -->


<p>
<!-- tdebase - start -->
<a name="close_tdebase"></a>
<br>
<span class="tabs reqd"><a href="#tdebase">&hellip; tdebase</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="tdebase" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_tdebase">close</a></span>
<code><code class="thtwo">cd /
PRGNAM=tdebase
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn
</code>
<span class="dastx">##</span> picking up the wrong limits.h - MAX_PATH not defined
<code class="thtwo">sed -i 's|&lt;limits.h>|&amp;\n#include &lt;linux/limits.h>|' kcontrol/krdb/krdb.cpp
sed -i '20s|^|#include &lt;linux/limits.h>|' kdesktop/lock/lockprocess.cc
</code>
<span class="dastx">##</span> make default tdm screen text clearer against dark background and align login button with clickable area
<span class="dastx">##</span> edit color="#ffff74" and/or color="#ff0000" for your own choice
<code class="thtwo">echo $'
--- tdm/kfrontend/themes/o2_enterprise/enterprise.xml
+++ tdm/kfrontend/themes/o2_enterprise/enterprise.xml
@@ -12 +12 @@
-\t\t\t&lt;normal color="#000000" font="Sans 10" />
+\t\t\t&lt;normal color="#ffff74" font="Sans 10" />
@@ -39 +39 @@
-\t\t\t&lt;pos width="box" x="540" y="188" anchor="c" height="box" />
+\t\t\t&lt;pos width="38" x="540" y="188" anchor="c" height="box" />
@@ -42 +42 @@
-\t\t\t\t\t&lt;pos x="90%" y="50%" anchor="c" />
+\t\t\t\t\t&lt;pos x="40%" y="50%" anchor="c" />
@@ -59 +59 @@
-\t\t\t\t\t\t\t\t&lt;normal color="#000000" font="Sans Condensed 10" />
+\t\t\t\t\t\t\t\t&lt;normal color="#ffff74" font="Sans Condensed 10" />
@@ -64 +64 @@
-\t\t\t\t\t\t\t\t&lt;normal color="#000000" font="Sans Condensed 10" />
+\t\t\t\t\t\t\t\t&lt;normal color="#ffff74" font="Sans Condensed 10" />
@@ -86,2 +86,2 @@
-\t\t\t\t&lt;pos x="435" y="293" anchor="s" />
-\t\t\t\t&lt;normal color="#CD0000" font="Sans 10" />
+\t\t\t\t&lt;pos x="435" y="240" anchor="s" />
+\t\t\t\t&lt;normal color="#ff0000" font="Sans 11" />
@@ -93,2 +93,2 @@
-\t\t\t\t&lt;normal color="#CD0000" font="Sans 10" />
-\t\t\t\t&lt;pos x="435" y="323" anchor="s" />
+\t\t\t\t&lt;normal color="#ff0000" font="Sans 11" />
+\t\t\t\t&lt;pos x="435" y="260" anchor="s" />
' | while read line
do
patch -p0
done
</code>
<span class="dastx">##</span> enable konqueror filemanagement ViewMode to be set - TDE bug 1963
<code class="thtwo">echo $'
--- konqueror/listview/konq_detailedlistview.desktop
+++ konqueror/listview/konq_detailedlistview.desktop
@@ -86,0 +87 @@
+X-TDE-BrowserView-Built-Into=konqueror
--- konqueror/iconview/konq_iconview.desktop
+++ konqueror/iconview/konq_iconview.desktop
@@ -87,0 +88 @@
+X-TDE-BrowserView-Built-Into=konqueror
--- konqueror/iconview/konq_multicolumnview.desktop
+++ konqueror/iconview/konq_multicolumnview.desktop
@@ -87,0 +88 @@
+X-TDE-BrowserView-Built-Into=konqueror
--- konqueror/listview/konq_infolistview.desktop
+++ konqueror/listview/konq_infolistview.desktop
@@ -84,0 +85 @@
+X-TDE-BrowserView-Built-Into=konqueror
--- konqueror/listview/konq_textview.desktop
+++ konqueror/listview/konq_textview.desktop
@@ -87,0 +88 @@
+X-TDE-BrowserView-Built-Into=konqueror
--- konqueror/listview/konq_treeview.desktop
+++ konqueror/listview/konq_treeview.desktop
@@ -87,0 +88 @@
+X-TDE-BrowserView-Built-Into=konqueror
' | while read line
do
patch -p0
done
</code>
<span class="dastx">##</span> Configuration files are in /etc/tde, and plugins in $INSTALL_TDE/lib$LIBDIRSUFFIX/tde
<code class="thtwo">sed -i "s|trinity|$PLUGIN_INSTALL_DIR|g" tdm/config.def || true
sed -i "s|trinity|$PLUGIN_INSTALL_DIR|" tdm/kfrontend/gentdmconf.c || true
sed -i "s|trinity|$PLUGIN_INSTALL_DIR|" kcontrol/hwmanager/devicepropsdlg.cpp || true
sed -i "s|trinity|$PLUGIN_INSTALL_DIR|" tdeioslave/trash/testtrash.cpp || true
</code>
<code class="thtwo">patch -N -p0 &lt;&lt; EOF || true
--- translations/desktop_files/kcontrol-desktops/en_GB.po
+++ translations/desktop_files/kcontrol-desktops/en_GB.po
@@ -1355,3 +1355,3 @@
 msgid "Configure display ICC color profile"
-msgstr ""
+msgstr "Configure display ICC colour profile"
 
@@ -1360,3 +1360,3 @@
 msgid "ICC;display;color;profile;"
-msgstr ""
+msgstr "ICC;display;colour;profile;"
 
@@ -1365,3 +1365,3 @@
 msgid "Color Profile"
-msgstr ""
+msgstr "Colour Profile"
 
EOF
</code>
<code class="thtwo">chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D HAVE_OPENPTY_EXITCODE:STRING=0 \
    -D HAVE_NOGROUP_EXITCODE:STRING=0 \
    -D HAVE_SETLOGIN_EXITCODE:STRING=1 \
    -D HONORS_SOCKET_PERMS_EXITCODE:STRING=0 \
    -D COVARIANT_RETURN_EXITCODE:STRING=0 \
    -D HTDIG_SEARCH_BINARY=$SYSROOT/var/www/cgi-bin/htsearch \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -D KDE3_MEINPROC_EXECUTABLE:INTERNAL=$INSTALL_TDE/bin/meinproc-x86 \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DSYSCONF_INSTALL_DIR=$SYS_CNF_DIR \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DPLUGIN_INSTALL_DIR=$INSTALL_TDE/lib$LIBDIRSUFFIX/$PLUGIN_INSTALL_DIR \
    -DWITH_ARTS="ON" \
    -DWITH_ELFICON="OFF" \
    -DWITH_GCC_VISIBILITY="OFF" \
    -DWITH_HAL="OFF" \
    -DWITH_I8K="OFF" \
    -DWITH_LDAP="OFF" \
    -DWITH_LIBART="ON" \
    -DWITH_LIBCONFIG="OFF" \
    -DWITH_LIBRAW1394="OFF" \
    -DWITH_LIBUSB="OFF" \
    -DWITH_OPENEXR="ON" \
    -DWITH_OPENGL="ON" \
    -DWITH_PAM="OFF" \
    -DWITH_PCRE="ON" \
    -DWITH_SAMBA="OFF" \
    -DWITH_SASL="OFF" \
    -DWITH_SENSORS="OFF" \
    -DWITH_SHADOW="ON" \
    -DWITH_SUDO_KONSOLE_SUPER_USER_COMMAND="ON" \
    -DWITH_SUDO_TDESU_BACKEND="ON" \
    -DWITH_TDEHWLIB="ON" \
    -DWITH_UPOWER="ON" \
    -DWITH_XCOMPOSITE="ON" \
    -DWITH_XCURSOR="ON" \
    -DWITH_XDMCP="ON" \
    -DWITH_XFIXES="ON" \
    -DWITH_XINERAMA="ON" \
    -DWITH_XRANDR="ON" \
    -DWITH_XRENDER="ON" \
    -DWITH_XSCREENSAVER="OFF" \
    -DWITH_XTEST="ON" \
    -DBUILD_APPLNK="ON" \
    -DBUILD_CRASHTEST="ON" \
    -DBUILD_DOC="ON" \
    -DBUILD_DRKONQI="ON" \
    -DBUILD_KAPPFINDER="ON" \
    -DBUILD_KATE="ON" \
    -DBUILD_KCHECKPASS="ON" \
    -DBUILD_KCMINIT="ON" \
    -DBUILD_KCONTROL="ON" \
    -DBUILD_KDCOP="ON" \
    -DBUILD_KDESKTOP="ON" \
    -DBUILD_KDIALOG="ON" \
    -DBUILD_KFIND="ON" \
    -DBUILD_KHELPCENTER="ON" \
    -DBUILD_KHOTKEYS="ON" \
    -DBUILD_KICKER="ON" \
    -DBUILD_KLIPPER="ON" \
    -DBUILD_KMENUEDIT="ON" \
    -DBUILD_KNETATTACH="ON" \
    -DBUILD_KONQUEROR="ON" \
    -DBUILD_KONSOLE="ON" \
    -DBUILD_KPAGER="ON" \
    -DBUILD_KPERSONALIZER="ON" \
    -DBUILD_KREADCONFIG="ON" \
    -DBUILD_KROOTBACKING="ON" \
    -DBUILD_KSMSERVER="ON" \
    -DBUILD_KSPLASHML="ON" \
    -DBUILD_KSTART="ON" \
    -DBUILD_KSYSGUARD="ON" \
    -DBUILD_KSYSTRAYCMD="ON" \
    -DBUILD_KTIP="ON" \
    -DBUILD_KXKB="ON" \
    -DBUILD_L10N="ON" \
    -DBUILD_LIBKONQ="ON" \
    -DBUILD_NSPLUGINS="ON" \
    -DBUILD_PICS="ON" \
    -DBUILD_PROFILE_SHUTDOWN="OFF" \
    -DBUILD_STARTTDE="ON" \
    -DBUILD_TDEDEBUGDIALOG="ON" \
    -DBUILD_TDEEJECT="ON" \
    -DBUILD_TDEINIT="ON" \
    -DBUILD_TDEIOSLAVES="ON" \
    -DBUILD_TDEKBDLEDSYNC="ON" \
    -DBUILD_TDEPASSWD="ON" \
    -DBUILD_TDEPRINT="ON" \
    -DBUILD_TDESCREENSAVER="ON" \
    -DBUILD_TDESU="ON" \
    -DBUILD_TDM="ON" \
    -DBUILD_TQT3INTEGRATION="ON" \
    -DBUILD_TSAK="ON" \
    -DBUILD_TWIN="ON" \
    -Wno-dev \
    ..

<span class="dastx">##</span> If the linker has decided it can't find some libs to build kicker even though they've been built,
<span class="dastx">##</span> editing kicker.dir/link.txt and rerunning make works:
make $NUMJOBS || \
[[ ! -e ./kicker/kicker/kicker ]] &amp;&amp; {
sed -i 's|^.*$|&amp; ../../libkonq/libkonq.so.4 ./interfaces/libkickoffsearch_interfaces.so.0|' ./kicker/kicker/CMakeFiles/kicker.dir/link.txt  &amp;&amp; \
make $NUMJOBS
}

make DESTDIR=$PKG install

<span class="dastx">##</span> remove sysroot path from package
sed -i "s|$SYSROOT||" $PKG$INSTALL_TDE/bin/khc_htsearch.pl

strip_fn
</code>
<code class="thtwo"><span class="dastx">##</span> Add xinitrc:
mkdir -p $PKG/etc/X11/xinit
echo $"#!""/bin/sh

userresources=\$HOME/.Xresources
usermodmap=\$HOME/.Xmodmap
sysresources=/etc/X11/xinit/.Xresources
sysmodmap=/etc/X11/xinit/.Xmodmap

if [ -f \$sysresources ]; then
    /usr/bin/xrdb -merge \$sysresources
fi

if [ -f \$sysmodmap ]; then
    /usr/bin/xmodmap \$sysmodmap
fi

if [ -f \$userresources ]; then
    /usr/bin/xrdb -merge \$userresources
fi

if [ -f \$usermodmap ]; then
    /usr/bin/xmodmap \$usermodmap
fi

if [ -z \"\$DESKTOP_SESSION\" -a -x /usr/bin/ck-launch-session ]; then
  exec ck-launch-session dbus-launch --exit-with-session $INSTALL_TDE/bin/starttde
else
  exec dbus-launch --exit-with-session $INSTALL_TDE/bin/starttde
fi
" > $PKG/etc/X11/xinit/xinitrc.tde
chmod 755 $PKG/etc/X11/xinit/xinitrc.tde
(cd $PKG/etc/X11/xinit/
ln -sf xinitrc.tde xinitrc)
</code>
<code class="thtwo">mkdir -p $PKG/etc/profile.d
echo '#!'"/bin/sh
# TDE additions:
export TDEDIR=$INSTALL_TDE

# upgradepkg runs installpkg twice, so test for the second run:
[[ \"\$XDG_CONFIG_DIRS\" != *$SYS_CNF_DIR/xdg* ]] &amp;&amp; {
if [ ! \"\$XDG_CONFIG_DIRS\" = \"\" ]; then
  export XDG_CONFIG_DIRS=\$XDG_CONFIG_DIRS:$SYS_CNF_DIR/xdg
else
  export XDG_CONFIG_DIRS=/etc/xdg:$SYS_CNF_DIR/xdg
fi
}

## Re: https://specifications.freedesktop.org/basedir-spec/basedir-spec-0.6.html
## If XDG_DATA_DIRS is null or unset, the default is /usr/local/share:/usr/share
[[ \$XDG_DATA_DIRS == \"\" ]] &amp;&amp; \\
export XDG_DATA_DIRS=/usr/local/share:/usr/share:$INSTALL_TDE/share || {
[[ \$XDG_DATA_DIRS != *$INSTALL_TDE/share* ]] &amp;&amp; \\
export XDG_DATA_DIRS=\$XDG_DATA_DIRS:$INSTALL_TDE/share
}
" > $PKG/etc/profile.d/tde.sh

chmod 755 $PKG/etc/profile.d/tde.sh
</code>
<code class="thtwo"># Add some configuration files / scripts needed by TDE.
mkdir -p $PKG$SYS_CNF_DIR
mv $PKG$INSTALL_TDE/share/config/tdm $PKG$SYS_CNF_DIR/tdm
( cd $PKG$INSTALL_TDE/share/config ; ln -sf $SYS_CNF_DIR/tdm tdm )

# Add rc.4.local to give TDM priority over rc.4 X11 session manager options
# Assumes that rc.4.new from sysvinit-scripts still has the rc.4.local option
mkdir $PKG/etc/rc.d
echo $"#!""/bin/sh

# Start TDM:
if [ -x $INSTALL_TDE/bin/tdm ]; then
 echo \"Using TDM (Trinity Login Manager).\"
 echo
# log_cleanup \"/var/log/tdm.log\"
 exec $INSTALL_TDE/bin/tdm -nodaemon -error /var/log/tdm.log
fi
" > $PKG/etc/rc.d/rc.4.local
chmod 755 $PKG/etc/rc.d/rc.4.local
</code>
<code class="thtwo"># Set sane permissions for the include files.
if [ -d $PKG$INSTALL_TDE/include ]; then
   find $PKG$INSTALL_TDE/include -type f -exec chmod 0644 {} \;
fi
</code>
<code class="thtwo"># Set up config files for TDM:
$PKG$INSTALL_TDE/bin/gentdmconf --no-old --no-old-scripts --no-backup --in $PKG$SYS_CNF_DIR/tdm
<span class="dastx">##</span> set correct paths for config files
sed -i "s|$INSTALL_TDE/share/config/tdm/|$SYS_CNF_DIR/tdm/|" $PKG$SYS_CNF_DIR/tdm/tdmrc
# Allow root to login
sed 's|AllowRootLogin=false|AllowRootLogin=true|' $PKG$SYS_CNF_DIR/tdm/tdmrc > $PKG$SYS_CNF_DIR/tdm/tdmrc.new
<span class="dastx">##</span> Remove tdmrc which has AllowRootLogin=false set and would be used for a new installation
<span class="dastx">##</span> The installed tdmrc will be created by doinst.sh from tdmrc.new if it doesn't exist
rm $PKG$SYS_CNF_DIR/tdm/tdmrc
mv $PKG$SYS_CNF_DIR/tdm/Xsession $PKG$SYS_CNF_DIR/tdm/Xsession.orig
</code>
<code class="thtwo">echo $"#!""/bin/sh
# Xsession - run as user

# Merged in parts of the old Xsession to load defaults from
# Xresources and Xmodmap files, 2006-02-09 volkerdi

session=\$1

# This section is borrowed from the old X11 Xsession file:
userresources=\$HOME/.Xresources
usermodmap=\$HOME/.Xmodmap
sysresources=/usr/lib/X11/xinit/.Xresources
sysmodmap=/usr/lib/X11/xinit/.Xmodmap
# merge in defaults and keymaps
if [ -r \$sysresources ]; then
        /usr/bin/xrdb -merge \$sysresources
fi
if [ -r \$sysmodmap ]; then
        /usr/bin/xmodmap \$sysmodmap
fi
if [ -r \$userresources ]; then
        /usr/bin/xrdb -merge \$userresources
fi
if [ -r \$usermodmap ]; then
        /usr/bin/xmodmap \$usermodmap
fi

# Note that the respective logout scripts are not sourced.
case \$SHELL in
  */bash)
    [ -z \"\$BASH\" ] &amp;&amp; exec \$SHELL \$0 \"\$@\"
    set +o posix
    [ -f /etc/profile ] &amp;&amp; . /etc/profile
    if [ -f \$HOME/.bash_profile ]; then
      . \$HOME/.bash_profile
    elif [ -f \$HOME/.bash_login ]; then
      . \$HOME/.bash_login
    elif [ -f \$HOME/.profile ]; then
      . \$HOME/.profile
    fi
    ;;
  */zsh)
    [ -z \"\$ZSH_NAME\" ] &amp;&amp; exec \$SHELL \$0 \"\$@\"
    emulate -R zsh
    [ -d /etc/zsh ] &amp;&amp; zdir=/etc/zsh || zdir=/etc
    zhome=\${ZDOTDIR:-\$HOME}
    # zshenv is always sourced automatically.
    [ -f \$zdir/zprofile ] &amp;&amp; . \$zdir/zprofile
    [ -f \$zhome/.zprofile ] &amp;&amp; . \$zhome/.zprofile
    [ -f \$zdir/zlogin ] &amp;&amp; . \$zdir/zlogin
    [ -f \$zhome/.zlogin ] &amp;&amp; . \$zhome/.zlogin
    ;;
  */csh|*/tcsh)
    # [t]cshrc is always sourced automatically.
    # Note that sourcing csh.login after .cshrc is non-standard.
    xsess_tmp=`mktemp`
    \$SHELL -c \"if (-f /etc/csh.login) source /etc/csh.login; if (-f ~/.login) source ~/.login; /bin/sh -c export >! \$xsess_tmp\"
    . \$xsess_tmp
    rm -f \$xsess_tmp
    ;;
  *) # Plain sh, ksh, and anything we don't know.
    [ -f /etc/profile ] &amp;&amp; . /etc/profile
    [ -f \$HOME/.profile ] &amp;&amp; . \$HOME/.profile
    ;;
esac

[ -f /etc/xprofile ] &amp;&amp; . /etc/xprofile
[ -f \$HOME/.xprofile ] &amp;&amp; . \$HOME/.xprofile

case \$session in
  \"\")
    exec xmessage -center -buttons OK:0 -default OK \"Sorry, \$DESKTOP_SESSION is no valid session.\"
    ;;
  failsafe)
    exec xterm -geometry 80x24-0-0
    ;;
  custom)
    exec \$HOME/.xsession
    ;;
  default)
    exec $INSTALL_TDE/bin/starttde
    ;;
  *)
    eval exec \"\$session\"
    ;;
esac
exec xmessage -center -buttons OK:0 -default OK \"Sorry, cannot execute \$session. Check \$DESKTOP_SESSION.desktop.\"
" > $PKG$SYS_CNF_DIR/tdm/Xsession
</code>
<code class="thtwo">mv $PKG$SYS_CNF_DIR/tdm/backgroundrc $PKG$SYS_CNF_DIR/tdm/backgroundrc.new
[[ -r $PKG$SYS_CNF_DIR/tdm/README ]] &amp;&amp; \
sed -i "s|$TMP_BUILD/package-tdebase$SYS_CNF_DIR/tdm|$SYS_CNF_DIR/tdm|" $PKG$SYS_CNF_DIR/tdm/README
</code>
<code class="thtwo">mkdir_install_fn

<span class="dastx">##</span> set up doinst.sh
echo $"# Save old config files:
if [ ! -L etc/X11/tdm ]; then
  if [ -d etc/X11/tdm ]; then
  mkdir -p .$SYS_CNF_DIR/tdm
  cp -a etc/X11/tdm/* .$SYS_CNF_DIR/tdm
  rm -rf etc/X11/tdm
  ( cd etc/X11 ; ln -sf ../..$SYS_CNF_DIR/tdm tdm )
    elif [ ! -e etc/X11/tdm ]; then
    mkdir -p etc/X11
    ( cd etc/X11 ; ln -sf ../..$SYS_CNF_DIR/tdm tdm )
  fi
fi

config() {
  NEW=\"\$1\"
  OLD=\"\$(dirname \$NEW)/\$(basename \$NEW .new)\"
  # If there's no config file by that name, mv it over:
  if [ ! -r \$OLD ]; then
    mv \$NEW \$OLD
  elif [ \"\$(cat \$OLD | md5sum)\" = \"\$(cat \$NEW | md5sum)\" ]; then # toss the redundant copy
    rm \$NEW
  fi
  # Otherwise, we leave the .new copy for the admin to consider...
}
config .$SYS_CNF_DIR/tdm/tdmrc.new
config .$SYS_CNF_DIR/tdm/backgroundrc.new

# Update the desktop database:
\$(which update-desktop-database) $INSTALL_TDE/share/applications

# Update the mime database:
\$(which update-mime-database) /usr/share/mime

# Update hicolor theme cache:
\$(which gtk-update-icon-cache) -f -t $INSTALL_TDE/share/icons/hicolor

# update PATH
# upgradepkg runs this twice, so even though $TQTDIR/bin will be
# a new PATH, it needs to be tested for the second run
if ! grep $INSTALL_TDE/bin /etc/profile
then
echo \"PATH=\\\$PATH:$INSTALL_TDE/bin:$TQTDIR/bin\" >> /etc/profile
else
if ! grep $TQTDIR/bin /etc/profile
then
echo \"PATH=\\\$PATH:$TQTDIR/bin\" >> /etc/profile
fi
fi

# update MANPATH
if ! grep $INSTALL_TDE/man /etc/profile
then
echo \"export MANPATH=\\\$MANPATH:$INSTALL_TDE/man\" >> /etc/profile
fi

<span class="dastx">##</span> you may not want to do this <span class="dastx">##</span>
# start a 'konsole' with system-wide profile
[[ ! \$(grep -x \"source /etc/profile\" \$HOME/.bashrc ) ]] &amp;&amp; echo \"source /etc/profile\" >> \$HOME/.bashrc || true
# don't want this
sed -i 's|source /etc/profile.d/mc.sh|#source /etc/profile.d/mc.sh|' \$HOME/.bashrc || true

<span class="dastx">##</span> set default runlevel to 4 for tdm
sed -i 's|id:[1-5]|id:4|' etc/inittab
" > $PKG/install/doinst.sh

<span class="dastx">##</span> set TDEHOME and TDEROOTHOME variables - defaults ~/.trinity and /root/.trinity
echo "# upgradepkg runs installpkg twice, so firstly remove any previous TDE*HOME entries
sed -i '/TDE.*HOME/d' /etc/profile
echo 'export TDEHOME=~/.tde' >> /etc/profile
echo 'export TDEROOTHOME=/root/.tde' >> /etc/profile
" >> $PKG/install/doinst.sh
</code>
<code class="thtwo">makepkg_fn

installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz

<span class="dastx">##</span> prefix paths with SYSROOT for build.make => link.txt dependencies for cmake builds for consistency with pkg-config paths
sed -i "s|\"$INSTALL_TDE|\"$SYSROOT$INSTALL_TDE|g" {,$SYSROOT}$INSTALL_TDE/share/cmake/*.cmake
</code></code>
Build times
= 19:59 on x86_64 for x86_64
= 24:02 on x86_64 for RPi3 using tqmoc and meinproc x86_64 binaries
= 33:01 on x86_64 for RPi3 with tqmoc x86_64 &amp; meinproc arm
= 49:01 on RPi3 for RPi3

<span class="tabs"><a href="#close_tdebase">close</a></span>
</div>
<br></div>
<!-- tdebase - end -->


<p>
<!-- tdeaddons - start -->
<a name="close_tdeaddons"></a>
<br>
<span class="tabs"><a href="#tdeaddons">&hellip; tdeaddons</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="tdeaddons" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_tdeaddons">close</a></span>
<code><code class="thtwo">cd /
PRGNAM=tdeaddons
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

<span class="dastx">##</span> enable 'ar' compression in Compress As menu
patch -N -p0 &lt;&lt; EOF || true
--- konq-plugins/arkplugin/arkplugin.cpp
+++ konq-plugins/arkplugin/arkplugin.cpp
@@ -347 +347 @@
-    if ( !TDEStandardDirs::findExe( "ar" ).isNull() &amp;&amp; m_conf->readBoolEntry( "UseAr", false ) )
+    if ( !TDEStandardDirs::findExe( "ar" ).isNull() &amp;&amp; m_conf->readBoolEntry( "UseAr", true ) )
EOF

chown_fn

<span class="dastx">##</span> check for libatlantic [tdegames]
[[ $(ls $SYSROOT$INSTALL_TDE/lib$LIBDIRSUFFIX/libatlantic.so.*) ]] &amp;&amp; ATLANTIKDESIGNER="ON"

<span class="dastx">##</span> check for kaddressbook in tdepim
[[ $(ls $SYSROOT$INSTALL_TDE/lib$LIBDIRSUFFIX/libkaddressbook.so*) ]] &amp;&amp; KADDRESSBOOK_PLUGINS="ON"

<span class="dastx">##</span> check for tdemultimedia
[[ $(ls $SYSROOT$INSTALL_TDE/lib$LIBDIRSUFFIX/libnoatun.so*) ]] &amp;&amp; NOATUN_PLUGINS="ON"

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -D KDE3_MEINPROC_EXECUTABLE:INTERNAL=$INSTALL_TDE/bin/meinproc-x86 \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DSYSCONF_INSTALL_DIR=$SYS_CNF_DIR \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DPLUGIN_INSTALL_DIR=$INSTALL_TDE/lib$LIBDIRSUFFIX/$PLUGIN_INSTALL_DIR \
    -DWITH_ARTS="ON" \
    -DWITH_SDL="ON" \
    -DWITH_BERKELEY_DB="ON" \
    -DWITH_XMMS="OFF" \
    -DWITH_TEST="OFF" \
    -DBUILD_DOC="ON" \
    -DBUILD_ATLANTIKDESIGNER=${ATLANTIKDESIGNER:-"OFF"} \
    -DBUILD_KADDRESSBOOK_PLUGINS=${KADDRESSBOOK_PLUGINS:-"OFF"} \
    -DBUILD_NOATUN_PLUGINS=${NOATUN_PLUGINS:-"OFF"} \
    -DBUILD_KATE_PLUGINS="ON" \
    -DBUILD_KICKER_APPLETS="ON" \
    -DBUILD_KNEWSTICKER_SCRIPTS="ON" \
    -DBUILD_KONQ_PLUGINS="ON" \
    -DBUILD_KSIG="ON" \
    -DBUILD_RENAMEDLG_PLUGINS="ON" \
    -DBUILD_TDEFILE_PLUGINS="ON" \
    -DBUILD_TUTORIALS="OFF" \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install

strip_fn

mkdir_install_fn

doinst_sh_fn

makepkg_fn

<span class="dastx">##</span> don't need to install this
<span class="dastx">##</span> installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
<span class="dastx">##</span> ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code></code>
<span class="tabs"><a href="#close_tdeaddons">close</a></span>
</div>
<br></div>
<!-- tdeaddons - end -->


<p>
<!-- tdeutils - start -->
<a name="close_tdeutils"></a>
<br>
<span class="tabs"><a href="#tdeutils">&hellip; tdeutils</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="tdeutils" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_tdeutils">close</a></span>

<code class="thtwo">cd /
PRGNAM=tdeutils
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -D KDE3_MEINPROC_EXECUTABLE:INTERNAL=$INSTALL_TDE/bin/meinproc-x86 \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DPLUGIN_INSTALL_DIR=$INSTALL_TDE/lib$LIBDIRSUFFIX/$PLUGIN_INSTALL_DIR \
    -DWITH_DPMS="ON" \
    -DWITH_XSCREENSAVER="OFF" \
    -DWITH_SENSORS="ON" \
    -DWITH_SNMP="OFF" \
    -DWITH_ASUS="OFF" \
    -DWITH_POWERBOOK="OFF" \
    -DWITH_POWERBOOK2="OFF" \
    -DWITH_VAIO="OFF" \
    -DWITH_THINKPAD="OFF" \
    -DWITH_I8K="OFF" \
    -DWITH_XMMS="OFF" \
    -DWITH_TDENEWSTUFF="OFF" \
    -DBUILD_DOC="ON" \
    -DBUILD_ARK="ON" \
    -DBUILD_CHARSELECTAPPLET="ON" \
    -DBUILD_KCALC="ON" \
    -DBUILD_KCHARSELECT="ON" \
    -DBUILD_TDELIRC="ON" \
    -DBUILD_TDESSH="ON" \
    -DBUILD_KDF="ON" \
    -DBUILD_KEDIT="ON" \
    -DBUILD_KFLOPPY="ON" \
    -DBUILD_KGPG="ON" \
    -DBUILD_KHEXEDIT="ON" \
    -DBUILD_KJOTS="ON" \
    -DBUILD_KLAPTOPDAEMON="ON" \
    -DBUILD_KMILO="ON" \
    -DBUILD_KREGEXPEDITOR="ON" \
    -DBUILD_KSIM="ON" \
    -DBUILD_KTIMER="ON" \
    -DBUILD_TDEWALLET="ON" \
    -DBUILD_SUPERKARAMBA="ON" \
    -Wno-dev \
    ..

<span class="dastx">##</span> Quick fix for:
<span class="dastx">##</span> /bin/sh: makecrc: command not found
PATH=$PATH:$PWD/klaptopdaemon

make $NUMJOBS
make DESTDIR=$PKG install

strip_fn

mkdir_install_fn

doinst_sh_fn

makepkg_fn

<span class="dastx">##</span> don't need to install this
<span class="dastx">##</span> installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
<span class="dastx">##</span> ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code>

<span class="tabs"><a href="#close_tdeutils">close</a></span>
</div>
<br></div>
<!-- tdeutils - end -->


<p>
<!-- tdeartwork - start -->
<a name="close_tdeartwork"></a>
<br>
<span class="tabs"><a href="#tdeartwork">&hellip; tdeartwork</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="tdeartwork" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_tdeartwork">close</a></span>

<code class="thtwo">cd /
PRGNAM=tdeartwork
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -D KDE3_MEINPROC_EXECUTABLE:INTERNAL=$INSTALL_TDE/bin/meinproc-x86 \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DPLUGIN_INSTALL_DIR=$INSTALL_TDE/lib$LIBDIRSUFFIX/$PLUGIN_INSTALL_DIR \
    -DWITH_ARTS="ON" \
    -DWITH_XSCREENSAVER="OFF" \
    -DWITH_LIBART="ON" \
    -DWITH_OPENGL="ON" \
    -DBUILD_EMOTICONS="ON" \
    -DBUILD_ICEWM_THEMES="ON" \
    -DBUILD_ICON_THEMES="ON" \
    -DBUILD_TDESCREENSAVER="ON" \
    -DBUILD_TWIN_STYLES="ON" \
    -DBUILD_KWORLDCLOCK="ON" \
    -DBUILD_SOUNDS="ON" \
    -DBUILD_STYLES="ON" \
    -DBUILD_WALLPAPERS="ON" \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install

strip_fn

mkdir_install_fn

doinst_sh_fn

makepkg_fn

<span class="dastx">##</span> don't need to install this
<span class="dastx">##</span> installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
<span class="dastx">##</span> ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code>

<span class="tabs"><a href="#close_tdeartwork">close</a></span>
</div>
<br></div>
<!-- tdeartwork - end -->


<p>
<!-- imlib - start -->
<a name="close_imlib"></a>
<br>
<span class="tabs opt"><a href="#imlib">&hellip; imlib</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;Required for kuickshow - part of tdegraphics.
</a></span>
<div id="imlib" class="tab"><div class="b_prefs"><span class="tabs"><a href="#close_imlib">close</a></span>
<code><code class="thtwo">cd /
PRGNAM=imlib
VERSION=1.9.15
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn
</code>
<span class="dastx">##</span> patches thanks to fedora
<code class="thtwo">echo $'--- Imlib/load.c
+++ Imlib/load.c
@@ -6,0 +7,2 @@
+#define G_MAXINT ((int) 0x7fffffff)
+
@@ -43,0 +46,2 @@
+ *     we check G_MAXINT/4 because rend.c malloc\'s w * h * bpp
+ *     + 3 is safety margin
@@ -48,3 +52,5 @@
-       if( w > 32767 || h > 32767)
-               return NULL;
-       return malloc(w * h * 3);
+       if (w &lt;= 0 || w > 32767 ||
+           h &lt;= 0 || h > 32767 ||
+           h >= (G_MAXINT/4 - 1) / w)
+                return NULL;
+       return malloc(w * h * 3 + 3);
@@ -194 +200 @@
-  if (setjmp(png_ptr->jmpbuf))
+  if (setjmp(png_jmpbuf(png_ptr)))
@@ -199 +205 @@
-  if (info_ptr->color_type == PNG_COLOR_TYPE_RGB_ALPHA)
+  if (png_get_color_type(png_ptr, info_ptr) == PNG_COLOR_TYPE_RGB_ALPHA)
@@ -257 +263,2 @@
-  if (color_type == PNG_COLOR_TYPE_GRAY_ALPHA)
+  if (color_type == PNG_COLOR_TYPE_GRAY
+      || color_type == PNG_COLOR_TYPE_GRAY_ALPHA)
@@ -281,0 +289 @@
+#if 0
@@ -296,0 +305 @@
+#endif
@@ -363 +372,3 @@
-  if(ww > 32767 || hh > 32767)
+  if (ww &lt;= 0 || ww > 32767 ||
+      hh &lt;= 0 || hh > 32767 ||
+      hh >= (G_MAXINT/sizeof(uint32)) / ww)
@@ -445,0 +457,3 @@
+#ifdef GIFLIB_MAJOR
+  gif = DGifOpenFileHandle(fd, NULL);
+#else
@@ -446,0 +461 @@
+#endif
@@ -453,0 +469,3 @@
+#ifdef GIFLIB_MAJOR
+\t  fprintf(stderr, "giflib error: %s\\n", GifErrorString(gif->Error));
+#else
@@ -454,0 +473 @@
+#endif
@@ -460,0 +480,3 @@
+#ifdef GIFLIB_MAJOR
+\t      fprintf(stderr, "giflib error: %s\\n", GifErrorString(gif->Error));
+#else
@@ -461,0 +484 @@
+#endif
@@ -466 +489 @@
-\t  if (*h > 32767 || *w > 32767)
+\t  if (*h &lt;= 0 || *h > 32767 || *w &lt;= 0 || *w > 32767)
@@ -472,0 +496,3 @@
+#ifdef GIFLIB_MAJOR
+\t      DGifCloseFile(gif, NULL);
+#else
@@ -473,0 +500 @@
+#endif
@@ -478,0 +506,3 @@
+#ifdef GIFLIB_MAJOR
+\t      DGifCloseFile(gif, NULL);
+#else
@@ -479,0 +510 @@
+#endif
@@ -489,0 +521,3 @@
+#ifdef GIFLIB_MAJOR
+\t\t  DGifCloseFile(gif, NULL);
+#else
@@ -490,0 +525 @@
+#endif
@@ -578,0 +614,3 @@
+#ifdef GIFLIB_MAJOR
+  DGifCloseFile(gif, NULL);
+#else
@@ -579,0 +618 @@
+#endif
@@ -648 +687 @@
-  if (bpp != 1 &amp;&amp; bpp != 4 &amp;&amp; bpp != 8 &amp;&amp; bpp &amp;&amp; 16 &amp;&amp; bpp != 24 &amp;&amp; bpp != 32)
+  if (bpp != 1 &amp;&amp; bpp != 4 &amp;&amp; bpp != 8 &amp;&amp; bpp != 16 &amp;&amp; bpp != 24 &amp;&amp; bpp != 32)
@@ -1002,0 +1042,2 @@
+  memset(lookup, 0, sizeof(lookup));
+
@@ -1003,0 +1045,3 @@
+  if (!line)
+    return NULL;
+
@@ -1032 +1076 @@
-                  if (ncolors > 32766)
+                  if (ncolors &lt;= 0 || ncolors > 32766)
@@ -1038 +1082 @@
-\t\t  if (cpp > 5)
+\t\t  if (cpp &lt;= 0 || cpp > 5)
@@ -1044 +1088 @@
-\t\t  if (*w > 32767)
+\t\t  if (*w &lt;= 0 || *w > 32767)
@@ -1050 +1094 @@
-\t\t  if (*h > 32767)
+\t\t  if (*h &lt;= 0 || *h > 32767)
@@ -1082,0 +1127 @@
+\t\t      int                 space;
@@ -1087,0 +1133 @@
+\t\t      space = sizeof(col) - 1;
@@ -1110,4 +1156,4 @@
-\t\t\t\t      if (col[0])
-\t\t\t\t\tstrcat(col, " ");
-                                      if (strlen(col) + strlen(s) < sizeof(col))
-\t\t\t\t\tstrcat(col, s);
+\t\t\t\t      if (col[0] &amp;&amp; space > 0)
+\t\t\t\t\tstrcat(col, " "), space -= 1;
+                                      if (slen &lt;= space)
+\t\t\t\t\tstrcat(col, s), space -= slen;
@@ -1143 +1189,2 @@
-\t\t\t\t  strcpy(tok, s);
+\t\t\t\t  if (slen < sizeof(tok));
+\t\t\t\t    strcpy(tok, s);
@@ -1144,0 +1192 @@
+\t\t\t\t  space = sizeof(col) - 1;
@@ -1148,3 +1196,4 @@
-\t\t\t\t  if (col[0])
-\t\t\t\t    strcat(col, " ");
-\t\t\t\t  strcat(col, s);
+\t\t\t\t  if (col[0] &amp;&amp; space > 0)
+\t\t\t\t    strcat(col, " "), space -=1;
+\t\t\t\t  if (slen &lt;= space)
+\t\t\t\t    strcat(col, s), space -= slen;
@@ -1379 +1428 @@
-\t  if (a > 32767)
+\t  if (a &lt;= 0 || a > 32767)
@@ -1384 +1433 @@
-\t  if (b > 32767)
+\t  if (b &lt;= 0 || b > 32767)
--- Imlib/misc.c
+++ Imlib/misc.c
@@ -677,0 +678,4 @@
+
+  id->x.shm = 0;
+  id->x.shmp = 0;
+  id->max_shm = 0;
@@ -693 +697,2 @@
-\t      if (XShmPixmapFormat(id->x.disp) == ZPixmap)
+\t      if ((XShmPixmapFormat(id->x.disp) == ZPixmap &amp;&amp;
+\t\t   (pm == True)))
@@ -698 +702,0 @@
-  else
@@ -700,4 +704 @@
-    {
-      id->x.shm = 0;
-      id->x.shmp = 0;
-    }
+
@@ -955,2 +956,2 @@
-\t  if (id->x.shm)
-\t    id->x.shmp = p->sharedpixmaps;
+\t  if (!p->sharedpixmaps)
+\t    id->x.shmp = 0;
--- Imlib/save.c
+++ Imlib/save.c
@@ -345 +345 @@
-\t  if (setjmp(png_ptr->jmpbuf))
+\t  if (setjmp(png_jmpbuf(png_ptr)))
--- Imlib/utils.c
+++ Imlib/utils.c
@@ -1498,0 +1499 @@
+  memset(lookup, 0, sizeof(lookup));
@@ -1502,0 +1504,15 @@
+      if (!line)
+\tbreak;
+      line = strdup(line);
+      if (!line)
+\tbreak;
+      len = strlen(line);
+      for (i = 0; i < len; ++i)
+\t{
+\t  c = line[i];
+\t  if (c < 32)
+\t    line[i] = 32;
+\t  else if (c > 127)
+\t    line[i] = 127;
+\t}
+
@@ -1507 +1523 @@
-\t  if (ncolors > 32766)
+\t  if (ncolors &lt;= 0 || ncolors > 32766)
@@ -1510,0 +1527 @@
+\t      free(line);
@@ -1513 +1530 @@
-\t  if (cpp > 5)
+\t  if (cpp &lt;= 0 || cpp > 5)
@@ -1516,0 +1534 @@
+\t      free(line);
@@ -1519 +1537 @@
-\t  if (w > 32767)
+\t  if (w &lt;= 0 || w > 32767)
@@ -1522,0 +1541 @@
+\t      free(line);
@@ -1525 +1544 @@
-\t  if (h > 32767)
+\t  if (h &lt;= 0 || h > 32767)
@@ -1528,0 +1548 @@
+\t      free(line);
@@ -1535,0 +1556 @@
+\t      free(line);
@@ -1544,0 +1566 @@
+\t      free(line);
@@ -1819,0 +1842 @@
+      free(line);
@@ -1961,2 +1984 @@
-  
-  if (setjmp(png_ptr->jmpbuf))
+  if (setjmp(png_jmpbuf(png_ptr)))  
@@ -1968 +1990 @@
-  if (info_ptr->color_type == PNG_COLOR_TYPE_RGB_ALPHA)
+  if (png_get_color_type(png_ptr, info_ptr) == PNG_COLOR_TYPE_RGB_ALPHA)
--- configure
+++ configure
@@ -22914,2 +22913,0 @@
-CPPFLAGS="$CPPFLAGS -I$includedir -I$prefix/include"
-
--- configure.in
+++ configure.in
@@ -144,2 +143,0 @@
-CPPFLAGS="$CPPFLAGS -I$includedir -I$prefix/include"
-
--- gdk_imlib/io-gif.c
+++ gdk_imlib/io-gif.c
@@ -32,0 +33,3 @@
+#ifdef GIFLIB_MAJOR
+  gif = DGifOpenFileHandle(fd, NULL);
+#else
@@ -33,0 +37 @@
+#endif
@@ -45,0 +50,3 @@
+#ifdef GIFLIB_MAJOR
+\t  fprintf(stderr, "giflib error: %s\\n", GifErrorString(gif->Error));
+#else
@@ -46,0 +54 @@
+#endif
@@ -52,0 +61,3 @@
+#ifdef GIFLIB_MAJOR
+\t      fprintf(stderr, "giflib error: %s\\n", GifErrorString(gif->Error));
+#else
@@ -53,0 +65 @@
+#endif
@@ -58 +70 @@
-\t  if(*h > 32767 || *w > 32767)
+\t  if(*h &lt;= 0 || *h > 32767 || *w &lt;= 0 || *w > 32767)
@@ -64,0 +77,3 @@
+#ifdef GIFLIB_MAJOR
+\t      DGifCloseFile(gif, NULL);
+#else
@@ -65,0 +81 @@
+#endif
@@ -70,0 +87,3 @@
+#ifdef GIFLIB_MAJOR
+\t      DGifCloseFile(gif, NULL);
+#else
@@ -71,0 +91 @@
+#endif
@@ -81,0 +102,3 @@
+#ifdef GIFLIB_MAJOR
+\t\t  DGifCloseFile(gif, NULL);
+#else
@@ -82,0 +106 @@
+#endif
@@ -170,0 +195,3 @@
+#ifdef GIFLIB_MAJOR
+  DGifCloseFile(gif, NULL);
+#else
@@ -171,0 +199 @@
+#endif
--- gdk_imlib/io-png.c
+++ gdk_imlib/io-png.c
@@ -43 +43 @@
-  if (setjmp(png_ptr->jmpbuf))
+  if (setjmp(png_jmpbuf(png_ptr)))
@@ -49 +49 @@
-  if (info_ptr->color_type == PNG_COLOR_TYPE_RGB_ALPHA)
+  if (png_get_color_type(png_ptr, info_ptr) == PNG_COLOR_TYPE_RGB_ALPHA)
@@ -278 +278 @@
-  if (setjmp(png_ptr->jmpbuf))
+  if (setjmp(png_jmpbuf(png_ptr)))
@@ -284 +284 @@
-  if (info_ptr->color_type == PNG_COLOR_TYPE_RGB_ALPHA)
+  if (png_get_color_type(png_ptr, info_ptr) == PNG_COLOR_TYPE_RGB_ALPHA)
@@ -303,0 +304,3 @@
+  if (color_type == PNG_COLOR_TYPE_GRAY &amp;&amp; bit_depth < 8)
+    png_set_expand(png_ptr);
+
@@ -443 +446 @@
-\tif (setjmp(png_ptr->jmpbuf))
+\tif (setjmp(png_jmpbuf(png_ptr)))
@@ -449 +452 @@
-\tif (info_ptr->color_type == PNG_COLOR_TYPE_RGB_ALPHA)
+\tif (png_get_color_type(png_ptr, info_ptr) == PNG_COLOR_TYPE_RGB_ALPHA)
@@ -638 +641 @@
-\t  if (setjmp(png_ptr->jmpbuf))
+\t  if (setjmp(png_jmpbuf(png_ptr)))
--- gdk_imlib/io-ppm.c
+++ gdk_imlib/io-ppm.c
@@ -56 +56 @@
-\t  if (a > 32767)
+\t  if (a &lt;= 0 || a > 32767)
@@ -61 +61 @@
-\t  if (b > 32767)
+\t  if (b &lt;= 0 || b > 32767)
--- gdk_imlib/io-tiff.c
+++ gdk_imlib/io-tiff.c
@@ -39 +39,3 @@
-  if(ww > 32767 || hh > 32767)
+  if (ww &lt;= 0 || ww > 32767 ||
+      hh &lt;= 0 || hh > 32767 ||
+      hh >= (G_MAXINT/sizeof(uint32)) / ww)
--- gdk_imlib/io-xpm.c
+++ gdk_imlib/io-xpm.c
@@ -42,0 +43 @@
+  memset(lookup, 0, sizeof(lookup));
@@ -44,0 +46,3 @@
+  if (!line)
+    return NULL;
+
@@ -73 +77 @@
-\t\t  if (ncolors > 32766)
+\t\t  if (ncolors &lt;= 0 || ncolors > 32766)
@@ -79 +83 @@
-\t\t  if (cpp > 5)
+\t\t  if (cpp &lt;= 0 || cpp > 5)
@@ -85 +89 @@
-\t\t  if (*w > 32767)
+\t\t  if (*w &lt;= 0 || *w > 32767)
@@ -91 +95 @@
-\t\t  if (*h > 32767)
+\t\t  if (*h &lt;= 0 || *h > 32767)
@@ -122,0 +127 @@
+\t\t      int                 space;
@@ -127,0 +133 @@
+\t\t      space = sizeof(col) - 1;
@@ -150,4 +156,4 @@
-\t\t\t\t      if (col[0])
-\t\t\t\t\tstrcat(col, " ");
-\t\t\t\t      if (strlen(col) + strlen(s) &lt; sizeof(col))
-\t\t\t\t\tstrcat(col, s);
+\t\t\t\t      if (col[0] &amp;&amp; space > 0)
+\t\t\t\t\tstrncat(col, " ", space), space -= 1;
+\t\t\t\t      if (slen &lt;= space)
+\t\t\t\t\tstrcat(col, s), space -= slen;
@@ -183 +189,2 @@
-\t\t\t\t  strcpy(tok, s);
+\t\t\t\t  if (slen &lt; sizeof(tok))
+\t\t\t\t    strcpy(tok, s);
@@ -184,0 +192 @@
+\t\t\t\t  space = sizeof(col) - 1;
@@ -188,3 +196,4 @@
-\t\t\t\t  if (col[0])
-\t\t\t\t    strcat(col, " ");
-\t\t\t\t  strcat(col, s);
+\t\t\t\t  if (col[0] &amp;&amp; space > 0)
+\t\t\t\t    strcat(col, " "), space -= 1;
+\t\t\t\t  if (slen &lt;= space)
+\t\t\t\t    strcat(col, s), space -= slen;
--- gdk_imlib/misc.c
+++ gdk_imlib/misc.c
@@ -676,0 +677,4 @@
+
+  id->x.shm = 0;
+  id->x.shmp = 0;
+  id->max_shm = 0;
@@ -692 +696,2 @@
-\t      if (XShmPixmapFormat(id->x.disp) == ZPixmap)
+\t      if ((XShmPixmapFormat(id->x.disp) == ZPixmap) &amp;&amp;
+\t\t  (pm == True))
@@ -697 +701,0 @@
-  else
@@ -699,4 +703 @@
-    {
-      id->x.shm = 0;
-      id->x.shmp = 0;
-    }
+
@@ -938,2 +939,2 @@
-\t  if (id->x.shm)
-\t    id->x.shmp = p->sharedpixmaps;
+\t  if (!p->sharedpixmaps)
+\t    id->x.shmp = 0;
@@ -1357,0 +1359,2 @@
+ *\twe check G_MAX_INT/4 because rend.c malloc\'s w * h * bpp
+ *\t+ 3 is safety margin
@@ -1362 +1365,3 @@
-\tif( w > 32767 || h > 32767)
+\tif (w &lt;= 0 || w > 32767 ||
+\t    h &lt;= 0 || h > 32767 ||
+\t    h >= (G_MAXINT/4 - 1) / w)
@@ -1364 +1369 @@
-\treturn malloc(w * h * 3);
+\treturn malloc(w * h * 3 + 3);
@@ -1365,0 +1371 @@
+
--- gdk_imlib/utils.c
+++ gdk_imlib/utils.c
@@ -1238,0 +1239 @@
+  memset(lookup, 0, sizeof(lookup));
@@ -1242,0 +1244,15 @@
+      if (!line)
+\tbreak;
+      line = strdup(line);
+      if (!line)
+\tbreak;
+      len = strlen(line);
+      for (i = 0; i < len; ++i)
+        {
+\t  c = line[i];
+\t  if (c < 32)
+\t    line[i] = 32;
+\t  else if (c > 127)
+\t    line[i] = 127;
+\t}
+
@@ -1247 +1263 @@
-\t  if (ncolors > 32766)
+\t  if (ncolors &lt;= 0 || ncolors > 32766)
@@ -1250,0 +1267 @@
+\t      free(line);
@@ -1253 +1270 @@
-\t  if (cpp > 5)
+\t  if (cpp &lt;= 0 || cpp > 5)
@@ -1256,0 +1274 @@
+\t      free(line);
@@ -1259 +1277 @@
-\t  if (w > 32767)
+\t  if (w &lt;= 0 || w > 32767)
@@ -1262,0 +1281 @@
+\t      free(line);
@@ -1265 +1284 @@
-\t  if (h > 32767)
+\t  if (h &lt;= 0 || h > 32767)
@@ -1268,0 +1288 @@
+\t      free(line);
@@ -1275,0 +1296 @@
+\t      free(line);
@@ -1284,0 +1306 @@
+\t      free(line);
@@ -1358 +1380 @@
-\t\t\t      if (colptr + ls &lt;= sizeof(col))
+\t\t\t      if (colptr + ls &lt; sizeof(col))
@@ -1560,0 +1583 @@
+      free(line);
' | while read line
do
patch -p0
done
</code>
<code class="thtwo">ltoolupdate_fn

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
CFLAGS="$SLKCFLAGS" \
../configure \
  --prefix=/usr \
  --libdir=/usr/lib$LIBDIRSUFFIX \
  --disable-static \
  --host=$HOST

make $NUMJOBS
make DESTDIR=$PKG install

strip_fn

mkdir_install_fn

makepkg_fn

<span class="dastx">##</span> only need to install to $SYSROOT for the tdegraphics build
<span class="dastx">##</span> installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz

</code></code>
<span class="tabs"><a href="#close_imlib">close</a></span>
</div>
<br></div>
<!-- imlib - end -->


<p>
<!-- tdegraph - start -->
<a name="close_tdegraph"></a>
<br>
<span class="tabs"><a href="#tdegraph">&hellip; tdegraphics</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="tdegraph" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_tdegraph">close</a></span>
<code><code class="thtwo">cd /
PRGNAM=tdegraphics
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn
</code>
<span class="dastx">##</span> error: /bin/sh: squeeze: command not found
<code class="thtwo">sed -i 's|COMMAND squeeze|COMMAND ./squeeze|' kdvi/CMakeLists.txt
</code>
<code class="thtwo">chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
<span class="dastx">##</span> If imlib is installed, include kuickshow:
[[ $(ls $SYSROOT/usr/lib$LIBDIRSUFFIX/libImlib.so.*) ]] &amp;&amp; KUICKSHOW=ON
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -D KDE3_MEINPROC_EXECUTABLE:INTERNAL=$INSTALL_TDE/bin/meinproc-x86 \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DPLUGIN_INSTALL_DIR=$INSTALL_TDE/lib$LIBDIRSUFFIX/$PLUGIN_INSTALL_DIR \
    -DWITH_T1LIB="OFF" \
    -DWITH_PAPER="OFF" \
    -DWITH_TIFF="OFF" \
    -DWITH_OPENEXR="OFF" \
    -DWITH_PDF="ON" \
    -DBUILD_DOC="ON" \
    -DBUILD_TDEFILE_PLUGINS="ON" \
    -DBUILD_KUICKSHOW=${KUICKSHOW:-OFF} \
    -DBUILD_KPDF="ON" \
    -DBUILD_KAMERA="OFF" \
    -DBUILD_KSVG="OFF" \
    -DBUILD_LIBKSCAN="OFF" \
    -DBUILD_KOOKA="OFF" \
    -DBUILD_KCOLOREDIT="ON" \
    -DBUILD_KDVI="ON" \
    -DBUILD_KFAX="ON" \
    -DBUILD_KFAXVIEW="ON" \
    -DBUILD_KGAMMA="ON" \
    -DBUILD_KGHOSTVIEW="ON" \
    -DBUILD_TDEICONEDIT="ON" \
    -DBUILD_KMRML="ON" \
    -DBUILD_KOLOURPAINT="ON" \
    -DBUILD_KPOVMODELER="ON" \
    -DBUILD_KRULER="ON" \
    -DBUILD_KSNAPSHOT="ON" \
    -DBUILD_KVIEW="ON" \
    -DBUILD_KVIEWSHELL="ON" \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install

strip_fn

mkdir_install_fn

doinst_sh_fn

makepkg_fn

<span class="dastx">##</span> don't need to install this
<span class="dastx">##</span> installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
<span class="dastx">##</span> ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code></code>
<span class="tabs"><a href="#close_tdegraph">close</a></span>
</div>
<br></div>
<!-- tdegraph - end -->


<p>
<!-- tdeadmin - start -->
<a name="close_tdeadmin"></a>
<br>
<span class="tabs"><a href="#tdeadmin">&hellip; tdeadmin</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="tdeadmin" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_tdeadmin">close</a></span>

<code class="thtwo">cd /
PRGNAM=tdeadmin
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -D KDE3_MEINPROC_EXECUTABLE:INTERNAL=$INSTALL_TDE/bin/meinproc-x86 \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DPLUGIN_INSTALL_DIR=$INSTALL_TDE/lib$LIBDIRSUFFIX/$PLUGIN_INSTALL_DIR \
    -DWITH_GCC_VISIBILITY="OFF" \
    -DBUILD_DOC="ON" \
    -DBUILD_KCRON="ON" \
    -DBUILD_KDAT="ON" \
    -DBUILD_KNETWORKCONF="ON" \
    -DBUILD_KSYSV="ON" \
    -DBUILD_KUSER="ON" \
    -DBUILD_LILO_CONFIG="ON" \
    -DBUILD_KPACKAGE="ON" \
    -DBUILD_TDEFILE_PLUGINS="ON" \
    -DBUILD_SECPOLICY="OFF" \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install

strip_fn

mkdir_install_fn

doinst_sh_fn

makepkg_fn

<span class="dastx">##</span> don't need to install this
<span class="dastx">##</span> installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
<span class="dastx">##</span> ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code>

<span class="tabs"><a href="#close_tdeadmin">close</a></span>
</div>
<br></div>
<!-- tdeadmin - end -->


<p>
<!-- tdmtheme - start -->
<a name="close_tdmtheme"></a>
<br>
<span class="tabs"><a href="#tdmtheme">&hellip; tdmtheme</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="tdmtheme" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_tdmtheme">close</a></span>

<code class="thtwo">cd /
PRGNAM=tdmtheme
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
<span class="dastx">##</span> all locales and html docs built by default, actually only en_US
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -D KDE3_MEINPROC_EXECUTABLE:INTERNAL=$INSTALL_TDE/bin/meinproc-x86 \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DPLUGIN_INSTALL_DIR=$INSTALL_TDE/lib$LIBDIRSUFFIX/$PLUGIN_INSTALL_DIR \
    -DWITH_GCC_VISIBILITY="OFF" \
    -DBUILD_DOC="ON" \
    -DBUILD_TRANSLATIONS="ON" \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install

strip_fn

mkdir_install_fn

doinst_sh_fn

makepkg_fn

<span class="dastx">##</span> don't need to install this
<span class="dastx">##</span> installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
<span class="dastx">##</span> ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code>

<span class="tabs"><a href="#close_tdmtheme">close</a></span>
</div>
<br></div>
<!-- tdmtheme - end -->


<p>
<!-- knemo - start -->
<a name="close_knemo"></a>
<br>
<span class="tabs"><a href="#knemo">&hellip; knemo</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="knemo" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_knemo">close</a></span>

<code class="thtwo">cd /
PRGNAM=knemo
VERSION=$TDE_VERSION
BUILD=$BUILD
I18N=$I18N
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

<span class="dastx">##</span> rename knemo icons to avoid conflict with those in tdeartwork
rename network_ knemo_network_ src/knemod/pics/*png
sed -i -e 's|network_|knemo_network_|g' src/{knemod/interfaceicon,kcm/configdialog}.cpp
<span class="dastx">##</span> widen text area in Tooltips box to avoid text wrapping
sed -i 's|&lt;tr>&lt;td>|&lt;tr>&lt;td width=70%>|g' src/knemod/interfacetooltip.cpp
<span class="dastx">##</span> patch
sed -i 's|Default Gateway" ), LINK_QUALITY|Default Gateway" ), GATEWAY|' src/knemod/interfacetooltip.cpp

<span class="dastx">##</span> set support for additional language(s) as per I18N variable
<span class="dastx">##</span> but only for languages available with this package
[[ $I18N ]] &amp;&amp; TRANS=ON &amp;&amp; LINGUAS=$I18N

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -D KDE3_MEINPROC_EXECUTABLE:INTERNAL=$INSTALL_TDE/bin/meinproc-x86 \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DLIB_SUFFIX=$LIBDIRSUFFIX \
    -DPLUGIN_INSTALL_DIR=$INSTALL_TDE/lib$LIBDIRSUFFIX/$PLUGIN_INSTALL_DIR \
    -DWITH_GCC_VISIBILITY="OFF" \
    -DWITH_LIBIW="OFF" \
    -DBUILD_DOC="ON" \
    -DBUILD_TRANSLATIONS=${TRANS:-"OFF"} \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install

strip_fn

mkdir_install_fn

makepkg_fn

<span class="dastx">##</span> don't need to install this
<span class="dastx">##</span> installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
<span class="dastx">##</span> ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code>

<span class="tabs"><a href="#close_knemo">close</a></span>
</div>
<br></div>
<!-- knemo - end -->

<p>
<!-- krusader - start -->
<a name="close_krusader"></a>
<br>
<span class="tabs"><a href="#krusader">&hellip; krusader</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="krusader" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_krusader">close</a></span>

<code class="thtwo">cd /
PRGNAM=krusader
VERSION=$TDE_VERSION
BUILD=$BUILD
I18N=$I18N
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn

<span class="dastx">##</span> set support for additional language(s) as per I18N variable
<span class="dastx">##</span> but only for languages available with this package
langs="";for Lang in $I18N;do [[ -e po/$Lang".po" ]] &amp;&amp; langs="$langs $Lang"".po";done
sed -i "s|POFILES =.*$|POFILES =$langs|" po/Makefile.am
langs=$(echo $langs | sed 's|.po||g')

[[ $I18N != *ru* ]] &amp;&amp; \
sed -i 's| ru||' doc/Makefile.am

ltoolupdate_fn

chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
CFLAGS="$SLKCFLAGS" \
CXXFLAGS="$SLKCFLAGS" \
MOC=$SYSROOT/x86/tqmoc \
MEINPROC=$INSTALL_TDE/bin/meinproc-x86 \
../configure \
   --prefix=$INSTALL_TDE \
   --mandir=$INSTALL_TDE/man \
   --disable-rpath \
   --host=$HOST

make $NUMJOBS
make DESTDIR=$PKG install

<span class="dastx">##</span> remove xgcc paths in package
sed -i "s|$XGCC_DIR/$HOST|/usr|g" $PKG$INSTALL_TDE/lib$LIBDIRSUFFIX/t*/*.la
sed -i "s|$SYSROOT||g" $PKG$INSTALL_TDE/lib$LIBDIRSUFFIX/t*/*.la

strip_fn

mkdir_install_fn

doinst_sh_fn

makepkg_fn

<span class="dastx">##</span> don't need to install this
<span class="dastx">##</span> installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
<span class="dastx">##</span> ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code>

<span class="tabs"><a href="#close_krusader">close</a></span>
</div>
<br></div>
<!-- krusader - end -->

<p>
<!-- kvkbd - start -->
<a name="close_kvkbd"></a>
<br>
<span class="tabs"><a href="#kvkbd">&hellip; kvkbd</a></span><span style="vertical-align:-30%">&nbsp;&nbsp;</a>
</span>
<div id="kvkbd" class="tab"><div class="b_32bit"><span class="tabs"><a href="#close_kvkbd">close</a></span>

<code class="thtwo">cd /
PRGNAM=kvkbd
VERSION=$TDE_VERSION
BUILD=$BUILD
TMP=/tmp/build
rm -rf $TMP
PKG=$TMP/package-$PRGNAM
OUTPUT=/tmp
mkdir -p $PKG
mkdir $TMP/tmp-$PRGNAM

untar_fn
</code>
These patches are to build Kvkbd to
&bull; add a LSGT key for non-US keyboards
&bull; add a RWIN key
&bull; add 'Lock on screen' feature
&bull; support evdev key mapping
&bull; support dead keys
&bull; fix num pad keycodes
&bull; show &amp; and shift characters
&bull; set user choice of background colour
    change <span style="background-color:yellow">"antiquewhite3"</span> to the colour of your choice - the double quotes are required
    alternative forms of the same colour are <span style="background-color:yellow">"#cdc0b0"</span>, or <span style="background-color:yellow">205,192,176</span>.
<code class="thtwo">echo $'--- src-orig/MainWidget.cpp
+++ src/MainWidget.cpp
@@ -45,3 +45,3 @@
 #define R3LEN 9
-#define R4LEN 7
+#define R4LEN 8
 
@@ -71,7 +71,7 @@
 
-<span class="bkslt">\t</span>//TQString k4="zxcvbnm"; //,./";
-<span class="bkslt">\t</span>//TQString k4s="ZXCVBNM";
-<span class="bkslt">\t</span>unsigned int kc4[R4LEN] = {52,53,54,55,56,57,58};//59,60,61};
+<span class="bkslt">\t</span>//TQString k4="&lt;zxcvbnm"; //,./";
+<span class="bkslt">\t</span>//TQString k4s=">ZXCVBNM";
+<span class="bkslt">\t</span>unsigned int kc4[R4LEN] = {94,52,53,54,55,56,57,58};//59,60,61};
 
-<span class="bkslt">\t</span>int stx=15;
+<span class="bkslt">\t</span>int stx=16;
 <span class="bkslt">\t</span>int sty=15;
@@ -96,3 +96,3 @@
 <span class="bkslt">\t</span><span class="bkslt">\t</span>f->setText ( "F"+TQString ( "%1" ).arg ( a+1 ) );
-<span class="bkslt">\t</span><span class="bkslt">\t</span>f->move ( stx+esc->width() + ( 35*a ) +20,sty );
+<span class="bkslt">\t</span><span class="bkslt">\t</span>f->move ( stx+esc->width() +30 + ( 35*a ),sty );
 <span class="bkslt">\t</span><span class="bkslt">\t</span>f->res();
@@ -106,3 +106,3 @@
 <span class="bkslt">\t</span><span class="bkslt">\t</span>f->setText ( "F"+TQString ( "%1" ).arg ( a+5 ) );
-<span class="bkslt">\t</span><span class="bkslt">\t</span>f->move ( stx+esc->width() + ( 35*a ) +40+ ( 4*35 ),sty );
+<span class="bkslt">\t</span><span class="bkslt">\t</span>f->move ( stx+esc->width() +30 + ( 4*35 ) +14 + ( 35*a ),sty );
 <span class="bkslt">\t</span><span class="bkslt">\t</span>f->res();
@@ -117,3 +117,3 @@
 <span class="bkslt">\t</span><span class="bkslt">\t</span>f->setText ( "F"+TQString ( "%1" ).arg ( a+9 ) );
-<span class="bkslt">\t</span><span class="bkslt">\t</span>f->move ( stx+esc->width() + ( 35*a ) +45+ ( 8*35 ) +10,sty );
+<span class="bkslt">\t</span><span class="bkslt">\t</span>f->move ( stx+esc->width() +30 + ( 8*35 ) +28 + ( 35*a ),sty );
 <span class="bkslt">\t</span><span class="bkslt">\t</span>f->res();
@@ -138,3 +138,3 @@
 <span class="bkslt">\t</span>bksp->move ( stx+ ( R1LEN *35 ),sty+35 );
-<span class="bkslt">\t</span>bksp->resize ( 46,30 );
+<span class="bkslt">\t</span>bksp->resize ( 48,30 );
 <span class="bkslt">\t</span>bksp->setText ( "Bksp" );
@@ -148,3 +148,3 @@
 <span class="bkslt">\t</span>tab->move ( stx,sty+35+35 );
-<span class="bkslt">\t</span>tab->resize ( 47,30 );
+<span class="bkslt">\t</span>tab->resize ( 48,30 );
 <span class="bkslt">\t</span>tab->setText ( "Tab" );
@@ -248,3 +248,3 @@
 <span class="bkslt">\t</span>lshft->move ( stx,sty+ ( 4*35 ) );
-<span class="bkslt">\t</span>lshft->resize ( 80,30 );
+<span class="bkslt">\t</span>lshft->resize ( 45,30 );
 <span class="bkslt">\t</span>lshft->setText ( "Shift" );
@@ -261,3 +261,3 @@
 <span class="bkslt">\t</span><span class="bkslt">\t</span>//v->setShiftText ( k4s.mid ( a,1 ) );
-<span class="bkslt">\t</span><span class="bkslt">\t</span>v->move ( stx+35+16+35+ ( 35*a ),sty+ ( 4*35 ) );
+<span class="bkslt">\t</span><span class="bkslt">\t</span>v->move ( stx+lshft->width() +5+ ( 35*a ),sty+ ( 4*35 ) );
 <span class="bkslt">\t</span><span class="bkslt">\t</span>btns.append ( v );
@@ -269,3 +269,3 @@
 <span class="bkslt">\t</span>sm->setKeyCode ( 59 );
-<span class="bkslt">\t</span>sm->move ( stx+ ( R4LEN *35 ) +lshft->width() +5,sty+ ( 4*35 ) );
+<span class="bkslt">\t</span>sm->move ( stx+lshft->width() +5+ ( R4LEN *35 ) ,sty+ ( 4*35 ) );
 <span class="bkslt">\t</span>//sm->setText ( "," );
@@ -278,3 +278,3 @@
 <span class="bkslt">\t</span>gr->setKeyCode ( 60 );
-<span class="bkslt">\t</span>gr->move ( stx+ ( ( R4LEN +1 ) *35 ) +lshft->width() +5,sty+ ( 4*35 ) );
+<span class="bkslt">\t</span>gr->move ( stx+lshft->width() +5+ ( ( R4LEN +1 ) *35 ) ,sty+ ( 4*35 ) );
 <span class="bkslt">\t</span>//gr->setText ( "." );
@@ -287,3 +287,3 @@
 <span class="bkslt">\t</span>sl->setKeyCode ( 61 );
-<span class="bkslt">\t</span>sl->move ( stx+ ( ( R4LEN +2 ) *35 ) +lshft->width() +5,sty+ ( 4*35 ) );
+<span class="bkslt">\t</span>sl->move ( stx+lshft->width() +5+ ( ( R4LEN +2 ) *35 ) ,sty+ ( 4*35 ) );
 <span class="bkslt">\t</span>//sl->setText ( "/" );
@@ -295,4 +295,4 @@
 <span class="bkslt">\t</span>rshft = new VButton ( this,"" );
-<span class="bkslt">\t</span>rshft->setKeyCode ( 50 );
-<span class="bkslt">\t</span>rshft->move ( stx+ ( ( R4LEN +3 ) *35 ) +lshft->width() +5,sty+ ( 4*35 ) );
+<span class="bkslt">\t</span>rshft->setKeyCode ( 62 );
+<span class="bkslt">\t</span>rshft->move ( stx+lshft->width() +5+ ( ( R4LEN +3 ) *35 ) ,sty+ ( 4*35 ) );
 <span class="bkslt">\t</span>rshft->resize ( 68,30 );
@@ -318,7 +318,8 @@
 <span class="bkslt">\t</span>win->resize ( 45,30 );
-<span class="bkslt">\t</span>win->move ( 5+lctrl->x() +lctrl->width(), sty+ ( 5*35 ) );
-<span class="bkslt">\t</span>win->setText ( "Win" );
-<span class="bkslt">\t</span>win->setKeyCode ( 115 );
-<span class="bkslt">\t</span>win->setToggleButton ( true );
-<span class="bkslt">\t</span>mod_keys.append ( win );
+<span class="bkslt">\t</span>win->move ( lctrl->x() +lctrl->width() +5, sty+ ( 5*35 ) );
+<span class="bkslt">\t</span>win->setText ( "LWin" );
+<span class="bkslt">\t</span>win->setKeyCode ( 133 );
+<span class="bkslt">\t</span>win->setToggleButton ( false );
+<span class="bkslt">\t</span>connect ( win, TQT_SIGNAL ( keyClick ( unsigned int ) ), this, TQT_SLOT ( keyPress ( unsigned int ) ) );
+<span class="bkslt">\t</span>other_keys.append( win );
 <span class="bkslt">\t</span>win->res();
@@ -328,3 +329,3 @@
 <span class="bkslt">\t</span>lalt->resize ( 45,30 );
-<span class="bkslt">\t</span>lalt->move ( 5+win->x() +win->width(), sty+ ( 5*35 ) );
+<span class="bkslt">\t</span>lalt->move ( win->x() +win->width() +5, sty+ ( 5*35 ) );
 <span class="bkslt">\t</span>lalt->setText ( "Alt" );
@@ -338,4 +339,4 @@
 <span class="bkslt">\t</span>space->setKeyCode ( 65 );
-<span class="bkslt">\t</span>space->resize ( 5*35+28,30 );
-<span class="bkslt">\t</span>space->move ( 5+lalt->x() +lalt->width(),sty+ ( 5*35 ) );
+<span class="bkslt">\t</span>space->resize ( 153,30 );
+<span class="bkslt">\t</span>space->move ( lalt->x() +lalt->width() +5, sty+ ( 5*35 ) );
 <span class="bkslt">\t</span>connect ( space, TQT_SIGNAL ( keyClick ( unsigned int ) ), this, TQT_SLOT ( keyPress ( unsigned int ) ) );
@@ -346,5 +347,5 @@
 <span class="bkslt">\t</span>ralt->resize ( 45,30 );
-<span class="bkslt">\t</span>ralt->move ( 5+space->x() +space->width(), sty+ ( 5*35 ) );
+<span class="bkslt">\t</span>ralt->move ( space->x() +space->width() +5, sty+ ( 5*35 ) );
 <span class="bkslt">\t</span>ralt->setText ( "AltGr" );
-<span class="bkslt">\t</span>ralt->setKeyCode ( 113 );
+<span class="bkslt">\t</span>ralt->setKeyCode ( 108 );
 <span class="bkslt">\t</span>ralt->setToggleButton ( true );
@@ -353,2 +354,12 @@
 
+<span class="bkslt">\t</span>rwin = new VButton ( this,"" );
+<span class="bkslt">\t</span>rwin->resize ( 45,30 );
+<span class="bkslt">\t</span>rwin->move ( ralt->x() +ralt->width() +5, sty+ ( 5*35 ) );
+<span class="bkslt">\t</span>rwin->setText ( "RWin" );
+<span class="bkslt">\t</span>rwin->setKeyCode ( 134 );
+<span class="bkslt">\t</span>rwin->setToggleButton ( false );
+<span class="bkslt">\t</span>connect ( rwin, TQT_SIGNAL ( keyClick ( unsigned int ) ), this, TQT_SLOT ( keyPress ( unsigned int ) ) );
+<span class="bkslt">\t</span>other_keys.append( rwin );
+<span class="bkslt">\t</span>rwin->res();
+
 
@@ -356,5 +367,5 @@
 <span class="bkslt">\t</span>mnu->resize ( 45,30 );
-<span class="bkslt">\t</span>mnu->move ( 5+ralt->x() +ralt->width(), sty+ ( 5*35 ) );
+<span class="bkslt">\t</span>mnu->move ( rwin->x() +rwin->width() +5, sty+ ( 5*35 ) );
 <span class="bkslt">\t</span>mnu->setText ( "Menu" );
-<span class="bkslt">\t</span>mnu->setKeyCode ( 117 );
+<span class="bkslt">\t</span>mnu->setKeyCode ( 135 );
 <span class="bkslt">\t</span>mnu->setToggleButton ( false );
@@ -367,5 +378,5 @@
 <span class="bkslt">\t</span>rctrl->resize ( 45,30 );
-<span class="bkslt">\t</span>rctrl->move ( 5+mnu->x() +mnu->width(), sty+ ( 5*35 ) );
+<span class="bkslt">\t</span>rctrl->move ( mnu->x() +mnu->width() +5, sty+ ( 5*35 ) );
 <span class="bkslt">\t</span>rctrl->setText ( "Ctrl" );
-<span class="bkslt">\t</span>rctrl->setKeyCode ( 37 );
+<span class="bkslt">\t</span>rctrl->setKeyCode ( 105 );
 <span class="bkslt">\t</span>rctrl->setToggleButton ( true );
@@ -377,5 +388,5 @@
 <span class="bkslt">\t</span>quit = new VButton ( this,"quit" );
-<span class="bkslt">\t</span>quit->resize ( 15,30 );
-<span class="bkslt">\t</span>quit->move ( 525,15 );
-<span class="bkslt">\t</span>quit->setPaletteBackgroundColor ( TQt::red );
+<span class="bkslt">\t</span>quit->resize ( 20,30 );
+<span class="bkslt">\t</span>quit->move ( 526,15 );
+<span class="bkslt">\t</span>quit->setPixmap(TQIconSet(SmallIcon("application-exit")).pixmap());
 <span class="bkslt">\t</span>quit->res();
@@ -385,5 +396,5 @@
 <span class="bkslt">\t</span>extent = new VButton(this,"extent");
-<span class="bkslt">\t</span>extent->resize( 15,65 );
-<span class="bkslt">\t</span>extent->move(525, 85 );
-<span class="bkslt">\t</span>extent->setText(">>");
+<span class="bkslt">\t</span>extent->resize ( 20,65 );
+<span class="bkslt">\t</span>extent->move(526, 85 );
+<span class="bkslt">\t</span>extent->setPixmap(TQIconSet(SmallIcon("media-seek-forward")).pixmap());
 <span class="bkslt">\t</span>extent->res();
@@ -396,13 +407,13 @@
 
-<span class="bkslt">\t</span>setPaletteBackgroundColor ( TQt::black );
 <span class="bkslt">\t</span>setFocusPolicy ( TQ_NoFocus );
+<span class="bkslt">\t</span>setPaletteBackgroundColor ( TQColor(<span style="background-color:yellow">"antiquewhite3"</span>) );
 
 
-<span class="bkslt">\t</span>int padx= 550;
-<span class="bkslt">\t</span>TQString txt[9] = { "Ho\\nme", TQString::fromUtf8("▲"), "Pg\\nUp",
+<span class="bkslt">\t</span>int padx= 553;
+<span class="bkslt">\t</span>TQString txt[9] = { TQString::fromUtf8("H\\u2190"), TQString::fromUtf8("▲"), TQString::fromUtf8("P\\u2191"),
 <span class="bkslt">\t</span><span class="bkslt">\t</span>TQString::fromUtf8("◄"), " ", TQString::fromUtf8("►"),
-<span class="bkslt">\t</span><span class="bkslt">\t</span>"End", TQString::fromUtf8("▼"), "Pg\\nDn" };
+<span class="bkslt">\t</span><span class="bkslt">\t</span>TQString::fromUtf8("E\\u2192"), TQString::fromUtf8("▼"), TQString::fromUtf8("P\\u2193") };
 <span class="bkslt">\t</span>TQString nump[9] = {"7","8","9","4","5","6","1","2","3"};
 <span class="bkslt">\t</span>int val=0;
-<span class="bkslt">\t</span>int nval[9] = {16,17,18,13,14,15,10,11,12};
+<span class="bkslt">\t</span>int nval[9] = {79,80,81,83,84,85,87,88,89};
 <span class="bkslt">\t</span>int cval[9] = {79,80,81,83,84,85,87,88,89};
@@ -426,3 +437,3 @@
 <span class="bkslt">\t</span>ins->setText("Ins");
-<span class="bkslt">\t</span>ins->setKeyCode(19,90);
+<span class="bkslt">\t</span>ins->setKeyCode(90,90);
 <span class="bkslt">\t</span>ins->setShiftText("0");
@@ -438,3 +449,3 @@
 <span class="bkslt">\t</span>del->setShiftText(".");
-<span class="bkslt">\t</span>del->setKeyCode(60,91);
+<span class="bkslt">\t</span>del->setKeyCode(91,91);
 <span class="bkslt">\t</span>numl_keys.append(del);
@@ -447,3 +458,3 @@
 <span class="bkslt">\t</span>numl->res();
-<span class="bkslt">\t</span>numl->setText("Num\\nLock");
+<span class="bkslt">\t</span>numl->setText(TQString::fromUtf8("\\u2116"));
 <span class="bkslt">\t</span>numl->setToggleButton ( true );
@@ -458,3 +469,3 @@
 <span class="bkslt">\t</span>div->setText("/");
-<span class="bkslt">\t</span>div->setKeyCode(112);
+<span class="bkslt">\t</span>div->setKeyCode(106);
 <span class="bkslt">\t</span>other_keys.append(div);
@@ -475,3 +486,3 @@
 <span class="bkslt">\t</span>ent->setText("Ent");
-<span class="bkslt">\t</span>ent->setKeyCode(36);
+<span class="bkslt">\t</span>ent->setKeyCode(104);
 <span class="bkslt">\t</span>other_keys.append(ent);
@@ -519,2 +530,6 @@
 <span class="bkslt">\t</span><span class="bkslt">\t</span>
+<span class="bkslt">\t</span><span class="bkslt">\t</span>mnu_lock = m->insertItem("Lock on screen", this, TQT_SLOT(toggleLock()));
+<span class="bkslt">\t</span><span class="bkslt">\t</span>bool is_locked = cfg->readBoolEntry("locked",false);
+<span class="bkslt">\t</span><span class="bkslt">\t</span>m->setItemChecked(mnu_lock,is_locked);
+<span class="bkslt">\t</span><span class="bkslt">\t</span>
 <span class="bkslt">\t</span><span class="bkslt">\t</span>//m->insertItem("Configure", this, TQT_SLOT(config()));
@@ -541,4 +556,4 @@
 <span class="bkslt">\t</span><span class="bkslt">\t</span>popup_menu = new VButton ( this,"popupmenu" );
-<span class="bkslt">\t</span><span class="bkslt">\t</span>popup_menu->resize ( 15,30 );
-<span class="bkslt">\t</span><span class="bkslt">\t</span>popup_menu->move ( 525,15+35 );
+<span class="bkslt">\t</span><span class="bkslt">\t</span>popup_menu->resize ( 20,30 );
+<span class="bkslt">\t</span><span class="bkslt">\t</span>popup_menu->move ( 526,15+35 );
 <span class="bkslt">\t</span><span class="bkslt">\t</span>//popup_menu->setPaletteBackgroundColor ( TQt::green );
@@ -583,3 +598,3 @@
 
-<span class="bkslt">\t</span>int d_width=550;
+<span class="bkslt">\t</span>int d_width=553;
 <span class="bkslt">\t</span>int d_height=235;
@@ -629,6 +644,6 @@
 <span class="bkslt">\t</span><span class="bkslt">\t</span>sdxb = width();
-<span class="bkslt">\t</span><span class="bkslt">\t</span>sdxs = width() - (width() * (150.0/700.0));
-<span class="bkslt">\t</span><span class="bkslt">\t</span>VButton::pw=700.0;
+<span class="bkslt">\t</span><span class="bkslt">\t</span>sdxs = width() - (width() * (150.0/704.0));
+<span class="bkslt">\t</span><span class="bkslt">\t</span>VButton::pw=704.0;
 <span class="bkslt">\t</span><span class="bkslt">\t</span>VButton::ph=235.0;
-<span class="bkslt">\t</span><span class="bkslt">\t</span>setMinimumSize(700/3,235/3);
+<span class="bkslt">\t</span><span class="bkslt">\t</span>setMinimumSize(704/3,235/3);
 <span class="bkslt">\t</span>}
@@ -636,6 +651,6 @@
 <span class="bkslt">\t</span><span class="bkslt">\t</span>sdxs = width();
-<span class="bkslt">\t</span><span class="bkslt">\t</span>sdxb = width() + (width() * (150.0/550.0));
-<span class="bkslt">\t</span><span class="bkslt">\t</span>VButton::pw=550.0;
+<span class="bkslt">\t</span><span class="bkslt">\t</span>sdxb = width() + (width() * (150.0/553.0));
+<span class="bkslt">\t</span><span class="bkslt">\t</span>VButton::pw=553.0;
 <span class="bkslt">\t</span><span class="bkslt">\t</span>VButton::ph=235.0;
-<span class="bkslt">\t</span><span class="bkslt">\t</span>setMinimumSize(550/3,235/3);
+<span class="bkslt">\t</span><span class="bkslt">\t</span>setMinimumSize(553/3,235/3);
 <span class="bkslt">\t</span>}
@@ -675,3 +690,3 @@
 <span class="bkslt">\t</span><span class="bkslt">\t</span>//double rs = (100.0/700.0)*width();
-<span class="bkslt">\t</span><span class="bkslt">\t</span>double rp = (8.0/600.0)*width();
+<span class="bkslt">\t</span><span class="bkslt">\t</span>double rp = (10.0/600.0)*width();
 <span class="bkslt">\t</span><span class="bkslt">\t</span>//fnt.setStretch(rs);
@@ -688,3 +703,3 @@
 <span class="bkslt">\t</span><span class="bkslt">\t</span>TQWidget::resize ( (int)sdxs, height() );
-<span class="bkslt">\t</span><span class="bkslt">\t</span>extent->setText(">>");
+<span class="bkslt">\t</span><span class="bkslt">\t</span>extent->setPixmap(TQIconSet(SmallIcon("media-seek-forward")).pixmap());
 <span class="bkslt">\t</span>}
@@ -692,3 +707,3 @@
 <span class="bkslt">\t</span><span class="bkslt">\t</span>extent_visible=true;<span class="bkslt">\t</span>
-<span class="bkslt">\t</span><span class="bkslt">\t</span>extent->setText("&lt;&lt;");
+<span class="bkslt">\t</span><span class="bkslt">\t</span>extent->setPixmap(TQIconSet(SmallIcon("media-seek-backward")).pixmap());
 <span class="bkslt">\t</span><span class="bkslt">\t</span>TQWidget::resize (  (int)sdxb, height() );
@@ -731,2 +746,14 @@
 }
+void MainWidget::toggleLock()
+{
+<span class="bkslt">\t</span>bool c = isLocked();
+
+<span class="bkslt">\t</span>tray->contextMenu()->setItemChecked ( mnu_lock, !c );
+<span class="bkslt">\t</span>setLocked(!c);
+
+<span class="bkslt">\t</span>TDEConfig *cfg = TDEApplication::kApplication()->config();
+<span class="bkslt">\t</span>cfg->writeEntry ("locked", !c);
+<span class="bkslt">\t</span>cfg->sync();
+
+}
 void MainWidget::showDock()
@@ -878,26 +905,22 @@
 <span class="bkslt">\t</span>KeyCode keycode=v.getKeyCode();
-
+// first level character keysym
 <span class="bkslt">\t</span>KeySym keysym_l = XkbKeycodeToKeysym(display, keycode, 0, 0);
+// second level, ie shift, character keysym
+<span class="bkslt">\t</span>KeySym keysym_s = XkbKeycodeToKeysym(display, keycode, 0, 1);
 
-<span class="bkslt">\t</span>KeySym keysym_u = XkbKeycodeToKeysym(display, keycode, 0, 1);
-
-<span class="bkslt">\t</span>long ret = keysym2ucs(keysym_l);
-
-<span class="bkslt">\t</span>TQString btn_text(TQChar((uint)ret));
+<span class="bkslt">\t</span>long retl = keysym2ucs(keysym_l);
 <span class="bkslt">\t</span>
-<span class="bkslt">\t</span>v.setText(btn_text);
+<span class="bkslt">\t</span><span class="bkslt">\t</span>TQChar l((uint)retl);
+<span class="bkslt">\t</span><span class="bkslt">\t</span>if (l==\'&amp;\')
+<span class="bkslt">\t</span><span class="bkslt">\t</span><span class="bkslt">\t</span>v.setText("&amp;&amp;");
+<span class="bkslt">\t</span><span class="bkslt">\t</span>else
+<span class="bkslt">\t</span><span class="bkslt">\t</span><span class="bkslt">\t</span>v.setText(l);
 
-<span class="bkslt">\t</span>TQString btn_upper(btn_text.upper());
+<span class="bkslt">\t</span>long rets = keysym2ucs(keysym_s);
 
-<span class="bkslt">\t</span>if (btn_upper==btn_text) {
-<span class="bkslt">\t</span><span class="bkslt">\t</span>ret = keysym2ucs(keysym_u);
-<span class="bkslt">\t</span><span class="bkslt">\t</span>TQChar c((uint)ret);
-<span class="bkslt">\t</span><span class="bkslt">\t</span>if (c==\'&amp;\')
+<span class="bkslt">\t</span><span class="bkslt">\t</span>TQChar s((uint)rets);
+<span class="bkslt">\t</span><span class="bkslt">\t</span>if (s==\'&amp;\')
 <span class="bkslt">\t</span><span class="bkslt">\t</span><span class="bkslt">\t</span>v.setShiftText("&amp;&amp;");
 <span class="bkslt">\t</span><span class="bkslt">\t</span>else
-<span class="bkslt">\t</span><span class="bkslt">\t</span><span class="bkslt">\t</span>v.setShiftText(c);
-<span class="bkslt">\t</span>}
-<span class="bkslt">\t</span>else {
-<span class="bkslt">\t</span><span class="bkslt">\t</span>v.setShiftText(btn_upper);
-<span class="bkslt">\t</span>}
+<span class="bkslt">\t</span><span class="bkslt">\t</span><span class="bkslt">\t</span>v.setShiftText(s);
 }
@@ -928,3 +951,3 @@
 <span class="bkslt">\t</span>icn=UserIcon ( "dock" );
-<span class="bkslt">\t</span>resize ( 96,47 );
+<span class="bkslt">\t</span>resize ( 64,31 );
 
@@ -999,2 +1022,3 @@
 } keysymtab[] = {
+  { 0x0000, 0x0020 }, /*                  NoSymbol -> &lt;- space */
   { 0x01a1, 0x0104 }, /*                     Aogonek Ą LATIN CAPITAL LETTER A WITH OGONEK */
@@ -1237,2 +1261,3 @@
   { 0x06ac, 0x045c }, /*               Macedonia_kje ќ CYRILLIC SMALL LETTER KJE */
+  { 0x06ad, 0x0491 }, /*   Ukrainian_ghe_with_upturn ґ CYRILLIC SMALL LETTER GHE WITH UPTURN */
   { 0x06ae, 0x045e }, /*         Byelorussian_shortu ў CYRILLIC SMALL LETTER SHORT U */
@@ -1252,2 +1277,3 @@
   { 0x06bc, 0x040c }, /*               Macedonia_KJE Ќ CYRILLIC CAPITAL LETTER KJE */
+  { 0x06bd, 0x0490 }, /*   Ukrainian_GHE_WITH_UPTURN Ґ CYRILLIC CAPITAL LETTER GHE WITH UPTURN */
   { 0x06be, 0x040e }, /*         Byelorussian_SHORTU Ў CYRILLIC CAPITAL LETTER SHORT U */
@@ -1772,2 +1798,18 @@
   { 0x20ac, 0x20ac }, /*                    EuroSign € EURO SIGN */
+  { 0xfe50, 0x0060 }, /*                  dead_grave \` */
+  { 0xfe51, 0x00b4 }, /*                  dead_acute ´ */
+  { 0xfe52, 0x02c6 }, /*             dead_circumflex ˆ */
+  { 0xfe53, 0x02dc }, /*                  dead_tilde ˜ small tilde */
+  { 0xfe54, 0x00af }, /*                 dead_macron ¯ */
+  { 0xfe55, 0x02d8 }, /*                  dead_breve ˘ */
+  { 0xfe56, 0x02d9 }, /*               dead_abovedot ˙ */
+  { 0xfe57, 0x00a8 }, /*              dead_diaeresis ¨ */
+  { 0xfe58, 0x02da }, /*              dead_abovering ° */
+  { 0xfe59, 0x02dd }, /*            dead_doubleacute ˝ */
+  { 0xfe5a, 0x02c7 }, /*                  dead_caron ˇ */
+  { 0xfe5b, 0x00b8 }, /*                dead_cedilla ¸ */
+  { 0xfe5c, 0x02db }, /*                 dead_ogonek ˛ */
+  { 0xfe5d, 0x0269 }, /*                   dead_iota ɩ Latin small iota */
+  { 0xfe64, 0x1fbf }, /*             dead_abovecomma ᾽ Greek Psili */
+  { 0xfe65, 0x1ffe }, /*     dead_abovereversedcomma ῾ Greek Dasia */
 };
@@ -1808,3 +1850,3 @@
 {
-
+<span class="bkslt">\t</span>TQToolTip::add ( this, "Virtual keyboard" );
 }
--- src-orig/MainWidget.h
+++ src/MainWidget.h
@@ -69,2 +69,3 @@
  <span class="bkslt">\t</span>void saveState();
+<span class="bkslt">\t</span>void toggleLock();
 
@@ -96,2 +97,3 @@
 <span class="bkslt">\t</span>VButton *win;
+<span class="bkslt">\t</span>VButton *rwin;
 <span class="bkslt">\t</span>VButton *mnu;
@@ -130,2 +132,3 @@
 <span class="bkslt">\t</span>int mnu_autores;
+<span class="bkslt">\t</span>int mnu_lock;
 
--- src-orig/VButton.cpp
+++ src/VButton.cpp
@@ -4,3 +4,3 @@
 
-double VButton::pw=550.0;
+double VButton::pw=553.0;
 double VButton::ph=235.0;
@@ -22,16 +22,6 @@
 {
-<span class="bkslt">\t</span>if (press==true){<span class="bkslt">\t</span>
-<span class="bkslt">\t</span><span class="bkslt">\t</span>TQString tu=l.upper();
-<span class="bkslt">\t</span><span class="bkslt">\t</span>if (tu.compare(l)==0){
-<span class="bkslt">\t</span><span class="bkslt">\t</span><span class="bkslt">\t</span>//TQPushButton::setText(tu);
-<span class="bkslt">\t</span><span class="bkslt">\t</span><span class="bkslt">\t</span>TQPushButton::setText(u);
-<span class="bkslt">\t</span><span class="bkslt">\t</span>}
-<span class="bkslt">\t</span><span class="bkslt">\t</span>else{
-<span class="bkslt">\t</span><span class="bkslt">\t</span><span class="bkslt">\t</span>TQPushButton::setText(tu);
-<span class="bkslt">\t</span><span class="bkslt">\t</span>}
-
-<span class="bkslt">\t</span>}
-<span class="bkslt">\t</span>else{
+<span class="bkslt">\t</span>if (press==true)
+<span class="bkslt">\t</span><span class="bkslt">\t</span>TQPushButton::setText(s);
+<span class="bkslt">\t</span>else
 <span class="bkslt">\t</span><span class="bkslt">\t</span>TQPushButton::setText(l);
-<span class="bkslt">\t</span>}
 }
@@ -39,14 +29,7 @@
 {
-<span class="bkslt">\t</span>if (press==true){<span class="bkslt">\t</span>
+<span class="bkslt">\t</span>if (press==true) {
 <span class="bkslt">\t</span><span class="bkslt">\t</span>TQString tu=l.upper();
-<span class="bkslt">\t</span><span class="bkslt">\t</span>if (tu.compare(l)==0){
-<span class="bkslt">\t</span><span class="bkslt">\t</span><span class="bkslt">\t</span>TQPushButton::setText(tu);
-<span class="bkslt">\t</span><span class="bkslt">\t</span>}
-<span class="bkslt">\t</span><span class="bkslt">\t</span>else{
-<span class="bkslt">\t</span><span class="bkslt">\t</span><span class="bkslt">\t</span>TQPushButton::setText(u);
-<span class="bkslt">\t</span><span class="bkslt">\t</span>}
-<span class="bkslt">\t</span>}
-<span class="bkslt">\t</span>else{
+<span class="bkslt">\t</span><span class="bkslt">\t</span>TQPushButton::setText(tu); }
+<span class="bkslt">\t</span>else
 <span class="bkslt">\t</span><span class="bkslt">\t</span>TQPushButton::setText(l);
-<span class="bkslt">\t</span>}
 }
@@ -60,3 +43,3 @@
 {
-<span class="bkslt">\t</span>u=text;
+<span class="bkslt">\t</span>s=text;
 }
--- src-orig/VButton.h
+++ src/VButton.h
@@ -31,3 +31,3 @@
 <span class="bkslt">\t</span>unsigned int keycode;
-<span class="bkslt">\t</span>TQString u;
+<span class="bkslt">\t</span>TQString s;
 <span class="bkslt">\t</span>TQString l;
--- src-orig/DragWidget.cpp
+++ src/DragWidget.cpp
@@ -6,3 +6,3 @@
 <span class="bkslt">\t</span>drag=false;
-
+<span class="bkslt">\t</span>locked=false;
 }
@@ -17,2 +17,3 @@
 <span class="bkslt">\t</span>gpress=e->globalPos();
+<span class="bkslt">\t</span>if (locked)return;
 <span class="bkslt">\t</span>drag=true;
@@ -34,2 +35,12 @@
 }
+
+void DragWidget::setLocked(bool mode)
+{
+<span class="bkslt">\t</span>locked=mode;
+}
+
+const bool DragWidget::isLocked() const
+{
+<span class="bkslt">\t</span>return locked;
+}
 
--- src-orig/DragWidget.h
+++ src/DragWidget.h
@@ -14,2 +14,5 @@
 
+<span class="bkslt">\t</span>void setLocked(bool mode);
+<span class="bkslt">\t</span>const bool isLocked() const;
+
 private:
@@ -24,2 +27,3 @@
 <span class="bkslt">\t</span>TQPoint gpress;
+<span class="bkslt">\t</span>bool locked;
 
--- src-orig/resizabledragwidget.cpp
+++ src/resizabledragwidget.cpp
@@ -38,2 +38,3 @@
 {
+<span class="bkslt">\t</span>if (locked)return;
 <span class="bkslt">\t</span>
--- src-orig/numpadvbutton.cpp
+++ src/numpadvbutton.cpp
@@ -35,3 +35,3 @@
 <span class="bkslt">\t</span>if (press==true){
-<span class="bkslt">\t</span><span class="bkslt">\t</span>TQPushButton::setText(u);
+<span class="bkslt">\t</span><span class="bkslt">\t</span>TQPushButton::setText(s);
 <span class="bkslt">\t</span><span class="bkslt">\t</span>VButton::setKeyCode(numlock_code);
' | patch -N -p0
</code>
This patch sets the background colour of the keys/buttons, but is not suitable for running Kvkbd with the plastik or keramik styles.
They have a button outline within the 30x30 key footprint and the background colour shows around the edges of the outline.
Kvkbd can be run with a different style than the system style, and <b>kvkbd --style cde</b> looks reasonable:
<br><img style="max-width:100%"
src="data:image/png;base64,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"
alt="greek keyboard">
<br>Enter the colour in the form shown, or as <span style="background-color:yellow">"#f0f0f0"</span> or <span style="background-color:yellow">240,240,240</span> - the double quotes are required.
<code class="thtwo">echo $'--- src/VButton.cpp
+++ src/VButton.cpp
@@ -11,2 +11,3 @@
 <span class="bkslt">\t</span>//connect(this,TQT_SIGNAL(clicked()),this,TQT_SLOT(sendKey()));
+<span class="bkslt">\t</span>setPaletteBackgroundColor ( TQColor(<span style="background-color:yellow">"gray94"</span>) );
 <span class="bkslt">\t</span>setFocusPolicy(TQ_NoFocus);
' | patch -N -p0
</code>
<code class="thtwo">chown_fn

cd_builddir_fn

<span class="dastx">##</span> rm -rf $TMP/tmp-$PRGNAM/$PRGNAM*/build-$PRGNAM/*
cmake-toolchain_fn
  cmake \
    -D CMAKE_TOOLCHAIN_FILE=./cmake-toolchain.cmake \
    -D MOC_EXECUTABLE=$SYSROOT/x86/tqmoc \
    -D KDE3_MEINPROC_EXECUTABLE:INTERNAL=$INSTALL_TDE/bin/meinproc-x86 \
    -DCMAKE_C_FLAGS="$SLKCFLAGS" \
    -DCMAKE_CXX_FLAGS="$SLKCFLAGS" \
    -DCMAKE_C_COMPILER=$COMPILER \
    -DCMAKE_CXX_COMPILER=$COMPILER_CXX \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=$INSTALL_TDE \
    -DWITH_GCC_VISIBILITY="OFF" \
    -DBUILD_DOC="ON" \
    -DBUILD_TRANSLATIONS="OFF" \
    -Wno-dev \
    ..

make $NUMJOBS
make DESTDIR=$PKG install

strip_fn

mkdir_install_fn

doinst_sh_fn

makepkg_fn

<span class="dastx">##</span> don't need to install this
<span class="dastx">##</span> installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
<span class="dastx">##</span> ROOT=$SYSROOT installpkg $OUTPUT/$PRGNAM-$VERSION-$ARM-$BUILD.txz
</code>
There is a help page included with the tde-slackbuilds source which is not practical to add to this build.
It can be built from that source with meinproc and added to this package if needed.

<span class="tabs"><a href="#close_kvkbd">close</a></span>
</div>
<br></div>
<!-- kvkbd - end -->

<br>
<span class="comment">
The source for this page is in the gh-pages branch of tde-slackbuilds:
<br>
<code style="font-style:italic">git clone https://github.com/Ray-V/tde-slackbuilds.git
cd tde-slackbuilds
git checkout gh-pages
</code>
</span>

<!-- DROPDOWN MENU -->
<div>
<ul id="menu">
    <li><a><span style="color:#e3e3e3">&nabla;</span></a>
      <div>
        <p><b>Set up</b>
        <p><a href="#gcc_x">gcc cross-compiler</a>
        <p><a href="#kernel"><span style="background: #FFD7F7;">kernel</span></a>
        <p><a href="#qemu">qemu</a>
        <p><a href="#Set_variables">build environment</a>
        <p><a href="#M_proc">tqmoc and meinproc</a>
        <p><b>Builds</b>
        <p><a href="#tqt">&hellip; <span style="background: #E5F1FF;">tqt3</span></a>
        <p><a href="#tqtint">&hellip; <span style="background: #E5F1FF;">tqtinterface</span></a>
        <p><a href="#arts">&hellip; <span style="background: #E5F1FF;">arts</span></a>
        <p><a href="#dbus">&hellip; <span style="background: #E5F1FF;">dbus-tqt</span></a>
        <p><a href="#dbus_1">&hellip; <span style="background: #E5F1FF;">dbus-1-tqt</span></a>
        <p><a href="#libart">&hellip; <span style="background: #E5F1FF;">libart-lgpl</span></a>
        <p><a href="#tqca_tls">&hellip; <span style="background: #E5F1FF;">tqca-tls</span></a>
        <p><a href="#tdelibs">&hellip; <span style="background: #E5F1FF;">tdelibs</span></a>
        <p><a href="#tdebase">&hellip; <span style="background: #E5F1FF;">tdebase</span></a>
        <p><a href="#tdeaddons">&hellip; tdeaddons</a>
        <p><a href="#tdeutils">&hellip; tdeutils</a>
        <p><a href="#tdeartwork">&hellip; tdeartwork</a>
        <p><a href="#imlib">&hellip; <span style="background: #FFD7F7;">imlib</span></a>
        <p><a href="#tdegraph">&hellip; tdegraphics</a>
        <p><a href="#tdeadmin">&hellip; tdeadmin</a>
        <p><a href="#tdmtheme">&hellip; tdmtheme</a>
        <p><a href="#knemo">&hellip; knemo</a>
        <p><a href="#krusader">&hellip; krusader</a>
        <p><a href="#kvkbd">&hellip; kvkbd</a>
      </div>
    </li>
</ul>
</div>
<!-- DROPDOWN MENU ENDS-->

</body></html>
