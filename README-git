The individual TDE apps can be cloned from Trinity git, so the build is set up to do that - except for individual language packs of tde-i18n. The whole tde-i18n download is ~1x10^6 bytes, so to reduce that, wget is used to download individual tde-i18n-ab_CD packs as they are not git repositories.

Once any git repository has been cloned, further downloads are updates only.

This gives the best options - only fetching what is needed, and incremental updates.

The git repositories are cloned to 'src/cgit', arranged in this tree format ignoring whether they are in Core, Deps, etc.

src
:
└── cgit
    ├── admin
    ├── cmake
    :
    ├── tqt3
    :
    ├── tdelibs
    :
    ├── tdei18n
    :   └── cgit
            └── tde-i18n
                └── plain
                    ├── tde-i18n-en_GB
                    └── tde-i18n-ru

For the build, these repositories are copied to the build area where the R14.0.4 archives would otherwise be extracted. admin & cmake are also always copied, and libltdl where it's needed.

This has resulted in most of the modifications being in the main scripts, BUILD-TDE.sh and get-source.sh [in getsource_fn and untar_fn]. tde-i18n.SlackBuild had to be modified because it doesn't use untar_fn. Some other *.SlackBuild modifications are work-arounds to accommodate the patching already included in the git sources.

As this is in beta stage, I've left in the markers I use in get-source.sh to give a better idea of where the build is failing.


First upload:
 modified:   BUILD-TDE.sh
 modified:   Core/tde-i18n/tde-i18n.SlackBuild
 modified:   Core/tdeaddons/tdeaddons.SlackBuild
 modified:   Core/tdelibs/tdelibs.SlackBuild
 modified:   Core/tdeutils/tdeutils.SlackBuild
 modified:   Deps/arts/arts.SlackBuild
 modified:   Deps/tqt3/tqt3.SlackBuild
 modified:   README
 modified:   get-source.sh
 tested:   tqt3
 tested:   tqtinterface
 tested:   arts
 tested:   dbus-tqt
 tested:   dbus-1-tqt
 tested:   libart_lgpl
 tested:   tqca-tls
 tested:   avahi-tqt
 tested:   tdelibs
 tested:   tdebase
 tested:   tde-i18n-en_GB
 tested:   tde-i18n-ru
 tested:   tdeaddons
 tested:   tdeutils

